{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let EmployeeComponent = class EmployeeComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.employees = [];\n    this.receivedId = '';\n  }\n  ngOnInit() {\n    this.userService.getAll().subscribe(data => {\n      // Filter users by role 'student'\n      this.employees = data.filter(user => user.role !== 'Student');\n      //console.log(this.employees);\n    });\n  }\n\n  onItemClick(itemId) {\n    this.receivedId = itemId;\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe(() => {\n      console.log('User deleted successfully.');\n      // Perform any other actions after successful deletion.\n    }, error => {\n      console.error('Error deleting user:', error);\n      // Handle error gracefully.\n    });\n\n    const studentIndex = this.employees.findIndex(user => user._id === userId);\n    // Find the index of the user to delete in the filteredList array\n    // If the user is found in both arrays, remove them\n    if (studentIndex !== -1) {\n      this.employees.splice(studentIndex, 1);\n    }\n  }\n};\nEmployeeComponent = __decorate([Component({\n  selector: 'app-employee',\n  templateUrl: './employee.component.html',\n  styleUrls: ['./employee.component.css']\n})], EmployeeComponent);","map":{"version":3,"names":["Component","EmployeeComponent","constructor","userService","employees","receivedId","ngOnInit","getAll","subscribe","data","filter","user","role","onItemClick","itemId","deleteUser","userId","console","log","error","studentIndex","findIndex","_id","splice","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\employee\\employee.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { IUser } from 'src/models';\n\n@Component({\n  selector: 'app-employee',\n  templateUrl: './employee.component.html',\n  styleUrls: ['./employee.component.css']\n})\nexport class EmployeeComponent implements OnInit {\n  constructor(private userService:UserService) {}\n  employees: IUser[] = [];\n  receivedId: String='';\n  ngOnInit(): void {\n    this.userService.getAll()\n\n    .subscribe((data: IUser[]) => {\n      // Filter users by role 'student'\n      this.employees = data.filter(user => user.role !== 'Student');\n      //console.log(this.employees);\n      \n    });\n  }\n  onItemClick(itemId: String) {\n    this.receivedId = itemId;\n  }\n  deleteUser(userId: String): void {\n    this.userService.deleteUser(userId)\n      .subscribe(\n        () => {\n          console.log('User deleted successfully.');\n          // Perform any other actions after successful deletion.\n          \n        },\n        (error) => {\n          console.error('Error deleting user:', error);\n          // Handle error gracefully.\n        }\n      );\n      const studentIndex = this.employees.findIndex((user) => user._id === userId);\n  \n    // Find the index of the user to delete in the filteredList array\n    \n  \n    // If the user is found in both arrays, remove them\n    if (studentIndex !== -1 ) {\n      this.employees.splice(studentIndex, 1);\n      \n      \n  }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAC5BC,YAAoBC,WAAuB;IAAvB,KAAAA,WAAW,GAAXA,WAAW;IAC/B,KAAAC,SAAS,GAAY,EAAE;IACvB,KAAAC,UAAU,GAAS,EAAE;EAFyB;EAG9CC,QAAQA,CAAA;IACN,IAAI,CAACH,WAAW,CAACI,MAAM,EAAE,CAExBC,SAAS,CAAEC,IAAa,IAAI;MAC3B;MACA,IAAI,CAACL,SAAS,GAAGK,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAK,SAAS,CAAC;MAC7D;IAEF,CAAC,CAAC;EACJ;;EACAC,WAAWA,CAACC,MAAc;IACxB,IAAI,CAACT,UAAU,GAAGS,MAAM;EAC1B;EACAC,UAAUA,CAACC,MAAc;IACvB,IAAI,CAACb,WAAW,CAACY,UAAU,CAACC,MAAM,CAAC,CAChCR,SAAS,CACR,MAAK;MACHS,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC;IAEF,CAAC,EACAC,KAAK,IAAI;MACRF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C;IACF,CAAC,CACF;;IACD,MAAMC,YAAY,GAAG,IAAI,CAAChB,SAAS,CAACiB,SAAS,CAAEV,IAAI,IAAKA,IAAI,CAACW,GAAG,KAAKN,MAAM,CAAC;IAE9E;IAGA;IACA,IAAII,YAAY,KAAK,CAAC,CAAC,EAAG;MACxB,IAAI,CAAChB,SAAS,CAACmB,MAAM,CAACH,YAAY,EAAE,CAAC,CAAC;;EAI1C;CACD;AA1CYnB,iBAAiB,GAAAuB,UAAA,EAL7BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW1B,iBAAiB,CA0C7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}