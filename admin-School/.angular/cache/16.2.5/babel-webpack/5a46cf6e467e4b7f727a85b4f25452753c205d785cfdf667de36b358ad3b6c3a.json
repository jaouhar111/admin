{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"../attendance.service\";\nimport * as i3 from \"../classeroom.service\";\nimport * as i4 from \"../payment.service\";\nimport * as i5 from \"@angular/common\";\nfunction DashboardComponent_div_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40);\n    i0.ɵɵelement(2, \"img\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"div\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 45);\n    i0.ɵɵelement(12, \"i\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r2.iduser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.iduser.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, item_r2.datenow));\n  }\n}\nfunction DashboardComponent_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40);\n    i0.ɵɵelement(2, \"img\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"div\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 45);\n    i0.ɵɵelement(12, \"i\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r3.iduser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.iduser.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, item_r3.datenow));\n  }\n}\nexport class DashboardComponent {\n  constructor(userService, att, Cla, paie) {\n    this.userService = userService;\n    this.att = att;\n    this.Cla = Cla;\n    this.paie = paie;\n    this.thisMonthFees = 0;\n    this.totalFees = 0;\n    this.feeCollectionPercentage = 0;\n    this.totalAmounts = {\n      regular: 0,\n      collection: 0\n    };\n    this.profite = 0;\n    this.paymentData = [];\n    this.totalRegularPayments = [];\n    this.totalCollectionFees = [];\n    this.absentPercentage = 0;\n    this.precencePercentage = 0;\n    this.amount = 0;\n    this.ttcEtudient = 0;\n    this.students = [];\n    this.Teachers = [];\n    this.attemp = [];\n    this.attstu = [];\n    this.collectionPercentage = 0;\n  }\n  ngOnInit() {\n    this.getStudent();\n    this.getProf();\n    this.getattEmp();\n    this.getattStu();\n    this.calculateAbsentPercentage();\n    this.calculatepresentPercentage();\n    this.feepercent();\n  }\n  getStudent() {\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      this.paymentData.forEach(payment => {\n        const paymentType = payment.paymentType;\n        const amount = payment.amount;\n        // Check the payment type and accumulate the amount accordingly\n        if (paymentType === 'regularPayment') {\n          this.totalAmounts.regular += amount;\n        } else if (paymentType === 'collectionFee') {\n          this.totalAmounts.collection += amount;\n        }\n      });\n      // Now, totalAmounts contains the total amount for \"regular\" and \"collection\" payment types\n      //console.log(this.totalAmounts);\n      //console.log(this.totalAmounts.collection-this.totalAmounts.regular);\n      this.profite = this.totalAmounts.collection - this.totalAmounts.regular;\n      this.amount = this.totalAmounts.collection;\n    });\n    this.userService.getAll().subscribe(data => {\n      // Filter users by role 'student'\n      this.students = data.filter(user => user.role === 'Student');\n    });\n  }\n  getProf() {\n    this.userService.getAll().subscribe(data => {\n      // Filter users by role 'student'\n      this.Teachers = data.filter(user => user.role !== 'Student');\n      //console.log(\"all teachers\"+JSON.stringify(this.Teachers));\n    });\n  }\n\n  getattEmp() {\n    const currentDate = new Date(); // Get the current date\n    this.att.getAllAttendance().subscribe(data => {\n      const uniqueNames = new Set();\n      // Filter users by status 'Present' and date matching the current date\n      this.attemp = data.filter(user => user.status === 'Present').filter(user => user.iduser.role !== 'Student').filter(user => {\n        // Convert the date from the data to a JavaScript Date object\n        const attendanceDate = new Date(user.datenow);\n        // Check if the date matches the current date\n        if (attendanceDate.getDate() === currentDate.getDate() && attendanceDate.getMonth() === currentDate.getMonth() && attendanceDate.getFullYear() === currentDate.getFullYear()) {\n          // Check if the name is not already in the Set\n          if (!uniqueNames.has(user.iduser.name)) {\n            // Add the name to the Set\n            uniqueNames.add(user.iduser.name);\n            return true;\n          }\n        }\n        return false;\n      });\n      console.log(this.attemp);\n    });\n  }\n  getattStu() {\n    const currentDate = new Date(); // Get the current date\n    this.att.getAllAttendance().subscribe(data => {\n      const uniqueNames = new Set();\n      // Filter users by status 'Absent', role 'Student', and date matching the current date\n      this.attstu = data.filter(user => user.status === 'Absent').filter(user => user.iduser.role === 'Student').filter(user => {\n        // Convert the date from the data to a JavaScript Date object\n        const attendanceDate = new Date(user.datenow);\n        // Check if the date matches the current date\n        if (attendanceDate.getDate() === currentDate.getDate() && attendanceDate.getMonth() === currentDate.getMonth() && attendanceDate.getFullYear() === currentDate.getFullYear()) {\n          // Check if the name is not already in the Set\n          if (!uniqueNames.has(user.iduser.name)) {\n            // Add the name to the Set\n            uniqueNames.add(user.iduser.name);\n            return true;\n          }\n        }\n        return false;\n      });\n    });\n  }\n  calculateAbsentPercentage() {\n    //console.log(\"Total students:\", this.students.length);\n    // console.log(\"Absent students:\", this.attstu.length);\n    if (this.students.length > 0) {\n      return this.absentPercentage = this.attstu.length / this.students.length * 100;\n    } else {\n      return this.absentPercentage = 0; // Handle cases where there are no students\n    }\n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  calculatepresentPercentage() {\n    //console.log(\"Total employee:\", this.Teachers.length);\n    //console.log(\"Absent students:\", this.attemp.length);\n    if (this.students.length > 0) {\n      return this.precencePercentage = this.attemp.length / this.Teachers.length * 100;\n    } else {\n      return this.precencePercentage = 0; // Handle cases where there are no students\n    }\n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  feepercent() {\n    const currentDate = new Date();\n    const currentMonth = currentDate.getMonth() + 1; // Adding 1 because getMonth() is zero-based\n    const currentYear = currentDate.getFullYear();\n    // Initialize variables for storing the total fees for this month and the total fees for all months\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      // Iterate through the payment data to calculate the fees\n      this.paymentData.forEach(payment => {\n        const paymentDate = new Date(payment.paymentDate);\n        console.log(paymentDate);\n        const paymentMonth = paymentDate.getMonth() + 1;\n        const paymentYear = paymentDate.getFullYear();\n        // Check if the payment is for the current month and year\n        if (paymentMonth === currentMonth && paymentYear === currentYear && payment.paymentType === 'collectionFee') {\n          this.thisMonthFees += payment.amount;\n        }\n        // Accumulate all payments for the total fees\n        this.totalFees += payment.amount;\n      });\n      // Calculate the fee collection percentage for this month\n      this.feeCollectionPercentage = this.thisMonthFees / this.totalFees * 100;\n      console.log(`Fee collection for this month: $${this.thisMonthFees}`);\n      console.log(`Total fee collection: $${this.totalFees}`);\n      console.log(`Fee collection percentage for this month: ${this.feeCollectionPercentage.toFixed(2)}%`);\n    });\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AttendanceService), i0.ɵɵdirectiveInject(i3.ClasseroomService), i0.ɵɵdirectiveInject(i4.PaymentService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 114,\n    vars: 20,\n    consts: [[1, \"row\"], [1, \"col-md-6\", \"grid-margin\", \"stretch-card\"], [1, \"card\", \"tale-bg\"], [1, \"card-people\", \"mt-auto\"], [\"src\", \"images/dashboard/people.svg\", \"alt\", \"people\"], [1, \"weather-info\"], [1, \"d-flex\"], [1, \"mb-0\", \"font-weight-normal\"], [1, \"icon-sun\", \"mr-2\"], [1, \"ml-2\"], [1, \"location\", \"font-weight-normal\"], [1, \"font-weight-normal\"], [1, \"col-md-6\", \"grid-margin\", \"transparent\"], [1, \"col-md-6\", \"mb-4\", \"stretch-card\"], [1, \"card\", \"card-tale\"], [1, \"card-body\"], [1, \"mb-4\"], [1, \"fs-30\", \"mb-2\"], [1, \"col-md-6\", \"mb-4\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-dark-blue\"], [1, \"col-md-6\", \"mb-4\", \"mb-lg-0\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-light-blue\"], [1, \"col-md-6\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-light-danger\"], [1, \"container\"], [1, \"row\", \"gx-5\"], [1, \"col-8\"], [1, \"card\"], [1, \"col-4\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"f-right\"], [1, \"progress\", \"mb-3\", 2, \"height\", \"5px\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-info\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-secondary\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-warning\"], [1, \"col-6\"], [1, \"card-title\", \"fw-mediumbold\"], [1, \"card-list\"], [\"class\", \"item-list\", 4, \"ngFor\", \"ngForOf\"], [1, \"item-list\"], [1, \"avatar\"], [\"src\", \"../assets/img/jm_denis.jpg\", \"alt\", \"...\", 1, \"avatar-img\", \"rounded-circle\"], [1, \"info-user\", \"ml-3\"], [1, \"username\"], [1, \"status\"], [1, \"btn\", \"btn-icon\", \"btn-danger\", \"btn-round\", \"btn-xs\"], [1, \"fas\", \"fa-envelope\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\")(8, \"h2\", 7);\n        i0.ɵɵelement(9, \"i\", 8);\n        i0.ɵɵtext(10, \"31\");\n        i0.ɵɵelementStart(11, \"sup\");\n        i0.ɵɵtext(12, \"C\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 9)(14, \"h4\", 10);\n        i0.ɵɵtext(15, \"Bangalore\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"h6\", 11);\n        i0.ɵɵtext(17, \"India\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\", 0)(20, \"div\", 13)(21, \"div\", 14)(22, \"div\", 15)(23, \"p\", 16);\n        i0.ɵɵtext(24, \"Today\\u2019s Bookings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"p\", 17);\n        i0.ɵɵtext(26, \"4006\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"p\");\n        i0.ɵɵtext(28, \"10.00% (30 days)\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(29, \"div\", 18)(30, \"div\", 19)(31, \"div\", 15)(32, \"p\", 16);\n        i0.ɵɵtext(33, \"Total Bookings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"p\", 17);\n        i0.ɵɵtext(35, \"61344\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"p\");\n        i0.ɵɵtext(37, \"22.00% (30 days)\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(38, \"div\", 0)(39, \"div\", 20)(40, \"div\", 21)(41, \"div\", 15)(42, \"p\", 16);\n        i0.ɵɵtext(43, \"Number of Meetings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"p\", 17);\n        i0.ɵɵtext(45, \"34040\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"p\");\n        i0.ɵɵtext(47, \"2.00% (30 days)\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(48, \"div\", 22)(49, \"div\", 23)(50, \"div\", 15)(51, \"p\", 16);\n        i0.ɵɵtext(52, \"Number of Clients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"p\", 17);\n        i0.ɵɵtext(54, \"47033\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"p\");\n        i0.ɵɵtext(56, \"0.22% (30 days)\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(57, \"div\", 24)(58, \"div\", 25)(59, \"div\", 26)(60, \"div\", 27)(61, \"div\", 15);\n        i0.ɵɵtext(62, \" line chart \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(63, \"div\", 28)(64, \"div\", 27)(65, \"div\", 15);\n        i0.ɵɵtext(66, \" line chart \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(67, \"div\", 25)(68, \"div\", 26)(69, \"div\", 27)(70, \"div\", 15);\n        i0.ɵɵtext(71, \" line chart \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(72, \"div\", 28)(73, \"div\", 27)(74, \"div\", 15)(75, \"div\", 29)(76, \"small\");\n        i0.ɵɵtext(77, \"\\u00C9tudiants Absents Aujourd'hui\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"small\", 30);\n        i0.ɵɵtext(79);\n        i0.ɵɵpipe(80, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(81, \"div\", 31);\n        i0.ɵɵelement(82, \"div\", 32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"div\", 29)(84, \"small\");\n        i0.ɵɵtext(85, \"Employees Presents Aujourd'hui\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(86, \"small\", 30);\n        i0.ɵɵtext(87);\n        i0.ɵɵpipe(88, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(89, \"div\", 31);\n        i0.ɵɵelement(90, \"div\", 33);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(91, \"div\", 29)(92, \"small\");\n        i0.ɵɵtext(93, \"Collecte des frais ce mois-ci\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"small\", 30);\n        i0.ɵɵtext(95);\n        i0.ɵɵpipe(96, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(97, \"div\", 31);\n        i0.ɵɵelement(98, \"div\", 34);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(99, \"div\", 25)(100, \"div\", 35)(101, \"div\", 27)(102, \"div\", 15)(103, \"div\", 36);\n        i0.ɵɵtext(104, \"Absents Etudients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(105, \"div\", 37);\n        i0.ɵɵtemplate(106, DashboardComponent_div_106_Template, 13, 5, \"div\", 38);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(107, \"div\", 35)(108, \"div\", 27)(109, \"div\", 15)(110, \"div\", 36);\n        i0.ɵɵtext(111, \"Presents Employees\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(112, \"div\", 37);\n        i0.ɵɵtemplate(113, DashboardComponent_div_113_Template, 13, 5, \"div\", 38);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(79);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(80, 11, ctx.absentPercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.calculateAbsentPercentage(), \"%\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(88, 14, ctx.precencePercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.calculatepresentPercentage(), \"%\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(96, 17, ctx.feeCollectionPercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.feeCollectionPercentage, \"%\");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.attstu);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.attemp);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.DecimalPipe, i5.DatePipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","item_r2","iduser","name","role","ɵɵpipeBind1","datenow","item_r3","DashboardComponent","constructor","userService","att","Cla","paie","thisMonthFees","totalFees","feeCollectionPercentage","totalAmounts","regular","collection","profite","paymentData","totalRegularPayments","totalCollectionFees","absentPercentage","precencePercentage","amount","ttcEtudient","students","Teachers","attemp","attstu","collectionPercentage","ngOnInit","getStudent","getProf","getattEmp","getattStu","calculateAbsentPercentage","calculatepresentPercentage","feepercent","getAllPayments","subscribe","data","forEach","payment","paymentType","getAll","filter","user","currentDate","Date","getAllAttendance","uniqueNames","Set","status","attendanceDate","getDate","getMonth","getFullYear","has","add","console","log","length","currentMonth","currentYear","paymentDate","paymentMonth","paymentYear","toFixed","_","ɵɵdirectiveInject","i1","UserService","i2","AttendanceService","i3","ClasseroomService","i4","PaymentService","_2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵtemplate","DashboardComponent_div_106_Template","DashboardComponent_div_113_Template","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵstyleProp","ɵɵproperty"],"sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\dashboard\\dashboard.component.ts","C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IAttendance, IUser } from 'src/models';\nimport { UserService } from '../user.service';\nimport { AttendanceService } from '../attendance.service';\nimport { ClasseroomService } from '../classeroom.service';\nimport { PaymentService } from '../payment.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit{\n  thisMonthFees: number = 0;\n  totalFees: number = 0;\n  feeCollectionPercentage: number = 0;\n  totalAmounts = {\n    regular: 0,\n    collection: 0,\n    \n  };\n  profite=0\n  paymentData: any[] = [];\n  totalRegularPayments: number[] = [];\n  totalCollectionFees: number[] = [];\n  absentPercentage: number = 0;\n  precencePercentage: number = 0;\n  amount=0\n  ttcEtudient=0\n  students: IUser[] = [];\n  Teachers: any[] = [];\n  attemp:IAttendance[]=[];\n  attstu:IAttendance[]=[];\n  \n  collectionPercentage: number =0\n  constructor(private userService:UserService,private att:AttendanceService,private Cla:ClasseroomService,\n     private paie:PaymentService){}\n  ngOnInit(): void {\n    this.getStudent();\n    this.getProf();\n    this.getattEmp();\n    this.getattStu();\n    this.calculateAbsentPercentage();\n    this.calculatepresentPercentage();\n    this.feepercent();\n   \n  }\n  getStudent(){\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      this.paymentData.forEach((payment) => {\n        \n        const paymentType = payment.paymentType;\n        const amount = payment.amount;\n      \n        // Check the payment type and accumulate the amount accordingly\n        if (paymentType === 'regularPayment') {\n          this.totalAmounts.regular += amount;\n        } else if (paymentType === 'collectionFee') {\n          this.totalAmounts.collection += amount;\n        }\n      });\n      \n      // Now, totalAmounts contains the total amount for \"regular\" and \"collection\" payment types\n      //console.log(this.totalAmounts);\n      //console.log(this.totalAmounts.collection-this.totalAmounts.regular);\n      this.profite=this.totalAmounts.collection-this.totalAmounts.regular\n      this.amount=this.totalAmounts.collection\n      \n\n    });\n    this.userService.getAll()\n  .subscribe((data: IUser[]) => {\n    // Filter users by role 'student'\n    this.students = data.filter(user => user.role === 'Student');\n    \n  });\n  }\n\n  getProf(){\n    this.userService.getAll()\n    .subscribe((data: IUser[]) => {\n      // Filter users by role 'student'\n      this.Teachers = data.filter(user => user.role !== 'Student');\n      //console.log(\"all teachers\"+JSON.stringify(this.Teachers));\n      \n\n    });\n  }\n\n  getattEmp() {\n    const currentDate = new Date(); // Get the current date\n  \n    this.att.getAllAttendance()\n      .subscribe((data: IAttendance[]) => {\n        const uniqueNames = new Set<string>();\n  \n        // Filter users by status 'Present' and date matching the current date\n        this.attemp = data\n          .filter(user => user.status === 'Present')\n          .filter(user => user.iduser.role !== 'Student')\n          .filter(user => {\n            // Convert the date from the data to a JavaScript Date object\n            const attendanceDate = new Date(user.datenow);\n  \n            // Check if the date matches the current date\n            if (\n              attendanceDate.getDate() === currentDate.getDate() &&\n              attendanceDate.getMonth() === currentDate.getMonth() &&\n              attendanceDate.getFullYear() === currentDate.getFullYear()\n            ) {\n              // Check if the name is not already in the Set\n              if (!uniqueNames.has(user.iduser.name)) {\n                // Add the name to the Set\n                uniqueNames.add(user.iduser.name);\n                return true;\n              }\n            }\n            return false;\n          });\n  \n        console.log(this.attemp);\n        \n      });\n  }\n  \n  getattStu() {\n    const currentDate = new Date(); // Get the current date\n  \n    this.att.getAllAttendance()\n      .subscribe((data: IAttendance[]) => {\n        const uniqueNames = new Set<string>();\n  \n        // Filter users by status 'Absent', role 'Student', and date matching the current date\n        this.attstu = data\n          .filter(user => user.status === 'Absent')\n          .filter(user => user.iduser.role === 'Student')\n          .filter(user => {\n            // Convert the date from the data to a JavaScript Date object\n            const attendanceDate = new Date(user.datenow);\n  \n            // Check if the date matches the current date\n            if (\n              attendanceDate.getDate() === currentDate.getDate() &&\n              attendanceDate.getMonth() === currentDate.getMonth() &&\n              attendanceDate.getFullYear() === currentDate.getFullYear()\n            ) {\n              // Check if the name is not already in the Set\n              if (!uniqueNames.has(user.iduser.name)) {\n                // Add the name to the Set\n                uniqueNames.add(user.iduser.name);\n                return true;\n              }\n            }\n            return false;\n          });\n  \n        \n      });\n  }\n  \n  \n  calculateAbsentPercentage() {\n    //console.log(\"Total students:\", this.students.length);\n   // console.log(\"Absent students:\", this.attstu.length);\n  \n    if (this.students.length > 0) {\n     return this.absentPercentage = (this.attstu.length / this.students.length) * 100;\n    } else {\n      return this.absentPercentage = 0; // Handle cases where there are no students\n    }\n  \n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n  calculatepresentPercentage() {\n    //console.log(\"Total employee:\", this.Teachers.length);\n    //console.log(\"Absent students:\", this.attemp.length);\n  \n    if (this.students.length > 0) {\n     return this.precencePercentage = (this.attemp.length / this.Teachers.length) * 100;\n    } else {\n      return this.precencePercentage = 0; // Handle cases where there are no students\n    }\n  \n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  feepercent(){\n    const currentDate = new Date();\n    const currentMonth = currentDate.getMonth() + 1; // Adding 1 because getMonth() is zero-based\n    const currentYear = currentDate.getFullYear();\n    \n    // Initialize variables for storing the total fees for this month and the total fees for all months\n    \n    \n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n    \n      // Iterate through the payment data to calculate the fees\n      this.paymentData.forEach((payment) => {\n        const paymentDate = new Date(payment.paymentDate);\n        console.log(paymentDate);\n        \n        const paymentMonth = paymentDate.getMonth() + 1;\n        const paymentYear = paymentDate.getFullYear();\n        \n        // Check if the payment is for the current month and year\n        if (paymentMonth === currentMonth && paymentYear === currentYear && payment.paymentType === 'collectionFee') {\n          this.thisMonthFees += payment.amount;\n        }\n    \n        // Accumulate all payments for the total fees\n        this.totalFees += payment.amount;\n      });\n    \n      // Calculate the fee collection percentage for this month\n      this.feeCollectionPercentage = (this.thisMonthFees / this.totalFees) * 100;\n    \n      console.log(`Fee collection for this month: $${this.thisMonthFees}`);\n      console.log(`Total fee collection: $${this.totalFees}`);\n      console.log(`Fee collection percentage for this month: ${this.feeCollectionPercentage.toFixed(2)}%`);\n    });\n    \n  }\n}\n","<div class=\"row\">\n    <div class=\"col-md-6 grid-margin stretch-card\">\n      <div class=\"card tale-bg\">\n        <div class=\"card-people mt-auto\">\n          <img src=\"images/dashboard/people.svg\" alt=\"people\">\n          <div class=\"weather-info\">\n            <div class=\"d-flex\">\n              <div>\n                <h2 class=\"mb-0 font-weight-normal\"><i class=\"icon-sun mr-2\"></i>31<sup>C</sup></h2>\n              </div>\n              <div class=\"ml-2\">\n                <h4 class=\"location font-weight-normal\">Bangalore</h4>\n                <h6 class=\"font-weight-normal\">India</h6>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6 grid-margin transparent\">\n      <div class=\"row\">\n        <div class=\"col-md-6 mb-4 stretch-card \">\n          <div class=\"card card-tale\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Today’s Bookings</p>\n              <p class=\"fs-30 mb-2\">4006</p>\n              <p>10.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6 mb-4 stretch-card transparent\">\n          <div class=\"card card-dark-blue\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Total Bookings</p>\n              <p class=\"fs-30 mb-2\">61344</p>\n              <p>22.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-6 mb-4 mb-lg-0 stretch-card transparent\">\n          <div class=\"card card-light-blue\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Number of Meetings</p>\n              <p class=\"fs-30 mb-2\">34040</p>\n              <p>2.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6 stretch-card transparent\">\n          <div class=\"card card-light-danger\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Number of Clients</p>\n              <p class=\"fs-30 mb-2\">47033</p>\n              <p>0.22% (30 days)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n<div class=\"container\">\n    <div class=\"row gx-5\">\n      <div class=\"col-8\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n               line chart\n            </div>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n               line chart\n            </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row gx-5\">\n      <div class=\"col-8\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n               line chart\n            </div>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"d-flex justify-content-between\">\n                    <small>Étudiants Absents Aujourd'hui</small><small class=\"f-right\">{{ absentPercentage| number:'1.2-2' }}%</small>\n                </div>  \n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-info\" role=\"progressbar\" [style.width.%]=\"calculateAbsentPercentage()\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                      <div class=\"d-flex justify-content-between\">\n                        <small>Employees Presents Aujourd'hui</small><small class=\"f-right\">{{ precencePercentage| number:'1.2-2' }}%</small>\n                    </div>\n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-secondary\" role=\"progressbar\" [style.width.%]=\"calculatepresentPercentage()\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                      <div class=\"d-flex justify-content-between\">\n                        <small>Collecte des frais ce mois-ci</small><small class=\"f-right\">{{ feeCollectionPercentage| number:'1.2-2' }}%</small>\n                    </div>\n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-warning\" role=\"progressbar\" [style.width.%]=\"feeCollectionPercentage\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n               \n                \n            </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row gx-5\">\n      <div class=\"col-6\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"card-title fw-mediumbold\">Absents Etudients</div>\n                <div class=\"card-list\">\n                    <div  *ngFor=\"let item of attstu\" class=\"item-list\">\n                        <div class=\"avatar\">\n                            <img src=\"../assets/img/jm_denis.jpg\" alt=\"...\" class=\"avatar-img rounded-circle\">\n                        </div>\n                        <div class=\"info-user ml-3\">\n                            <div class=\"username\">{{item.iduser.name}}</div>\n                            <div class=\"status\">{{item.iduser.role}}</div>\n                            <div class=\"status\">{{item.datenow | date}}</div>\n                        </div>\n                        <button  class=\"btn btn-icon btn-danger btn-round btn-xs\">\n                            <i class=\"fas fa-envelope\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n      <div class=\"col-6\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"card-title fw-mediumbold\">Presents Employees</div>\n                <div class=\"card-list\">\n                    <div *ngFor=\"let item of attemp\" class=\"item-list\">\n                        <div class=\"avatar\">\n                            <img src=\"../assets/img/jm_denis.jpg\" alt=\"...\" class=\"avatar-img rounded-circle\">\n                        </div>\n                        <div class=\"info-user ml-3\">\n                            <div class=\"username\">{{item.iduser.name}}</div>\n                            <div class=\"status\">{{item.iduser.role}}</div>\n                            <div class=\"status\">{{item.datenow | date}}</div>\n                        </div>\n                        <button  class=\"btn btn-icon btn-danger btn-round btn-xs\">\n                            <i class=\"fas fa-envelope\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}