{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../user.service\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(router, user) {\n    this.router = router;\n    this.user = user;\n    this.isLoading = false;\n    this.email = '';\n    this.pass = '';\n  }\n  login() {\n    this.user.login(this.email, this.pass).subscribe(response => {\n      console.log(response);\n      if (response.role === 'Professeur') {\n        // If the role is 'employee', navigate to the employee profile\n        // Store the email in local storage\n        localStorage.setItem('userId', response.id);\n        //this.user.setUserId(response.id)\n        this.isLoading = true;\n        setTimeout(() => {\n          // After 5 seconds, set isLoading back to false\n          this.isLoading = false;\n          this.router.navigate(['/dashboard/profile', response.id, 'Professeur']);\n        }, 5000);\n      } else if (response.role === 'Student') {\n        localStorage.setItem('userId', response.id);\n        this.isLoading = true;\n        setTimeout(() => {\n          // After 5 seconds, set isLoading back to false\n          this.isLoading = false;\n          this.router.navigate(['/dashboard/profile', response.id, 'student']);\n        }, 3000);\n      } else if (response.role === 'personnel de direction') {\n        this.isLoading = true;\n        setTimeout(() => {\n          // After 5 seconds, set isLoading back to false\n          this.isLoading = false;\n          this.router.navigate(['/dashboard/home']);\n        }, 3000);\n        localStorage.setItem('userId', response.id);\n      } else {\n        // Handle other roles or scenarios\n        console.log('Unknown role:', response.id);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 42,\n    vars: 0,\n    consts: [[1, \"\"], [1, \"px-4\", \"py-5\", \"px-md-5\", \"text-center\", \"text-lg-start\", 2, \"background-color\", \"hsl(0, 0%, 96%)\"], [1, \"container\"], [1, \"row\", \"gx-lg-5\", \"align-items-center\"], [1, \"col-lg-6\", \"mb-5\", \"mb-lg-0\"], [1, \"my-5\", \"display-3\", \"fw-bold\", \"ls-tight\"], [1, \"text-primary\"], [2, \"color\", \"hsl(217, 10%, 50.8%)\"], [1, \"card\"], [1, \"card-body\", \"py-5\", \"px-md-5\"], [1, \"form-outline\", \"mb-4\"], [\"for\", \"form3Example3\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"form3Example3\", 1, \"form-control\"], [\"for\", \"form3Example4\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"form3Example4\", 1, \"form-control\"], [1, \"form-check\", \"d-flex\", \"justify-content-center\", \"mb-4\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"form2Example33\", \"checked\", \"\", 1, \"form-check-input\", \"me-2\"], [\"type\", \"button\", \"disabled\", \"\", 1, \"btn\", \"btn-primary\"], [\"role\", \"status\", \"aria-hidden\", \"true\", 1, \"spinner-border\", \"spinner-border-sm\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\"], [1, \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", \"btn-floating\", \"mx-1\"], [1, \"fab\", \"fa-facebook-f\"], [1, \"fab\", \"fa-google\"], [1, \"fab\", \"fa-twitter\"], [1, \"fab\", \"fa-github\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n        i0.ɵɵtext(6, \" The best offer \");\n        i0.ɵɵelement(7, \"br\");\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵtext(9, \"for your business\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"p\", 7);\n        i0.ɵɵtext(11, \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet, itaque accusantium odio, soluta, corrupti aliquam quibusdam tempora at cupiditate quis eum maiores libero veritatis? Dicta facilis sint aliquid ipsum atque? \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 4)(13, \"div\", 8)(14, \"div\", 9)(15, \"form\")(16, \"div\", 10)(17, \"label\", 11);\n        i0.ɵɵtext(18, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 10)(21, \"label\", 13);\n        i0.ɵɵtext(22, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 15);\n        i0.ɵɵelement(25, \"input\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 17);\n        i0.ɵɵelement(27, \"span\", 18);\n        i0.ɵɵtext(28, \" Loading... \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 19);\n        i0.ɵɵtext(30, \" Sign in \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 20)(32, \"p\");\n        i0.ɵɵtext(33, \"or sign up with:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"button\", 21);\n        i0.ɵɵelement(35, \"i\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"button\", 21);\n        i0.ɵɵelement(37, \"i\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"button\", 21);\n        i0.ɵɵelement(39, \"i\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 21);\n        i0.ɵɵelement(41, \"i\", 25);\n        i0.ɵɵelementEnd()()()()()()()()()();\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n    styles: [\".form-signin[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-width: 330px;\\n    padding: 15px;\\n    margin: auto;\\n  }\\n  \\n  .form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%] {\\n    font-weight: 400;\\n  }\\n  \\n  .form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within {\\n    z-index: 2;\\n  }\\n  \\n  .form-signin[_ngcontent-%COMP%]   input[type=\\\"email\\\"][_ngcontent-%COMP%] {\\n    margin-bottom: -1px;\\n    border-bottom-right-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n  \\n  .form-signin[_ngcontent-%COMP%]   input[type=\\\"password\\\"][_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLFlBQVk7RUFDZDs7RUFFQTtJQUNFLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLFVBQVU7RUFDWjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQiw2QkFBNkI7SUFDN0IsNEJBQTRCO0VBQzlCOztFQUVBO0lBQ0UsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QiwwQkFBMEI7RUFDNUIiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1zaWduaW4ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDMzMHB4O1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tc2lnbmluIC5jaGVja2JveCB7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1zaWduaW4gLmZvcm0tZmxvYXRpbmc6Zm9jdXMtd2l0aGluIHtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLXNpZ25pbiBpbnB1dFt0eXBlPVwiZW1haWxcIl0ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogLTFweDtcclxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tc2lnbmluIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcclxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["LoginComponent","constructor","router","user","isLoading","email","pass","login","subscribe","response","console","log","role","localStorage","setItem","id","setTimeout","navigate","_","i0","ɵɵdirectiveInject","i1","Router","i2","UserService","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelement","ɵɵelementEnd"],"sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\login\\login.component.ts","C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  isLoading=false\n  email='';\n  pass='';\n  constructor(private router: Router,private user:UserService) {}\n login() {\n    this.user.login(this.email, this.pass)\n      .subscribe((response) => {\n        console.log(response);\n        \n        if (response.role === 'Professeur') {\n          // If the role is 'employee', navigate to the employee profile\n          // Store the email in local storage\n          localStorage.setItem('userId', response.id);\n          //this.user.setUserId(response.id)\n          this.isLoading = true;\n          setTimeout(() => {\n    // After 5 seconds, set isLoading back to false\n         this.isLoading = false;\n         this.router.navigate(['/dashboard/profile', response.id, 'Professeur']);\n        }, 5000); \n          \n\n        } else if (response.role === 'Student') {\n          localStorage.setItem('userId', response.id);\n          \n          this.isLoading = true;\n          setTimeout(() => {\n    // After 5 seconds, set isLoading back to false\n         this.isLoading = false;\n         this.router.navigate(['/dashboard/profile', response.id, 'student']);\n        }, 3000);\n         \n          \n        } else if (response.role === 'personnel de direction') {\n          this.isLoading = true;\n          setTimeout(() => {\n    // After 5 seconds, set isLoading back to false\n         this.isLoading = false;\n          this.router.navigate(['/dashboard/home']);\n        }, 3000);\n         \n        localStorage.setItem('userId', response.id);\n        } else {\n          // Handle other roles or scenarios\n          console.log('Unknown role:', response.id);\n        }\n     });\n  }\n}\n","<!-- Section: Design Block -->\n<section class=\"\">\n    <!-- Jumbotron -->\n    <div class=\"px-4 py-5 px-md-5 text-center text-lg-start\" style=\"background-color: hsl(0, 0%, 96%)\">\n      <div class=\"container\">\n        <div class=\"row gx-lg-5 align-items-center\">\n          <div class=\"col-lg-6 mb-5 mb-lg-0\">\n            <h1 class=\"my-5 display-3 fw-bold ls-tight\">\n              The best offer <br />\n              <span class=\"text-primary\">for your business</span>\n            </h1>\n            <p style=\"color: hsl(217, 10%, 50.8%)\">\n              Lorem ipsum dolor sit amet consectetur adipisicing elit.\n              Eveniet, itaque accusantium odio, soluta, corrupti aliquam\n              quibusdam tempora at cupiditate quis eum maiores libero\n              veritatis? Dicta facilis sint aliquid ipsum atque?\n            </p>\n          </div>\n  \n          <div class=\"col-lg-6 mb-5 mb-lg-0\">\n            <div class=\"card\">\n              <div class=\"card-body py-5 px-md-5\">\n                <form>\n                  <!-- Email input -->\n                  <div class=\"form-outline mb-4\">\n                    <label class=\"form-label\" for=\"form3Example3\">Email address</label>\n                    <input type=\"email\" id=\"form3Example3\" class=\"form-control\" />\n                  </div>\n                  <!-- Password input -->\n                  <div class=\"form-outline mb-4\">\n                    <label class=\"form-label\" for=\"form3Example4\">Password</label>\n                    <input type=\"password\" id=\"form3Example4\" class=\"form-control\" />\n                  </div>\n  \n                  <!-- Checkbox -->\n                  <div class=\"form-check d-flex justify-content-center mb-4\">\n                    <input class=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"form2Example33\" checked />\n                  </div>\n                  <button class=\"btn btn-primary\" type=\"button\" disabled>\n                    <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                    Loading...\n                  </button>\n                  <!-- Submit button -->\n                  <button type=\"submit\" class=\"btn btn-primary btn-block mb-4\">\n                    \n                    Sign in\n                  </button>\n  \n                  <!-- Register buttons -->\n                  <div class=\"text-center\">\n                    <p>or sign up with:</p>\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\n                      <i class=\"fab fa-facebook-f\"></i>\n                    </button>\n  \n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\n                      <i class=\"fab fa-google\"></i>\n                    </button>\n  \n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\n                      <i class=\"fab fa-twitter\"></i>\n                    </button>\n  \n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\n                      <i class=\"fab fa-github\"></i>\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Jumbotron -->\n  </section>\n  <!-- Section: Design Block -->"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}