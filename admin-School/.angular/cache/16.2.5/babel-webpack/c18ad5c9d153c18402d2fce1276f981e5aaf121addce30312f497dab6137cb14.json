{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"../attendance.service\";\nimport * as i3 from \"../classeroom.service\";\nimport * as i4 from \"../payment.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../weather/weather.component\";\nfunction DashboardComponent_div_124_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40);\n    i0.ɵɵelement(2, \"img\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"div\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 45);\n    i0.ɵɵelement(12, \"i\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r2.iduser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.iduser.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, item_r2.datenow));\n  }\n}\nfunction DashboardComponent_div_131_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40);\n    i0.ɵɵelement(2, \"img\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"div\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 45);\n    i0.ɵɵelement(12, \"i\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r3.iduser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.iduser.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, item_r3.datenow));\n  }\n}\nexport class DashboardComponent {\n  constructor(userService, att, Cla, paie) {\n    this.userService = userService;\n    this.att = att;\n    this.Cla = Cla;\n    this.paie = paie;\n    this.thisMonthFees = 0;\n    this.totalFees = 0;\n    this.feeCollectionPercentage = 0;\n    this.totalAmounts = {\n      regular: 0,\n      collection: 0\n    };\n    this.profite = 0;\n    this.paymentData = [];\n    this.totalRegularPayments = [];\n    this.totalCollectionFees = [];\n    this.absentPercentage = 0;\n    this.precencePercentage = 0;\n    this.amount = 0;\n    this.ttcEtudient = 0;\n    this.students = [];\n    this.Teachers = [];\n    this.attemp = [];\n    this.attstu = [];\n    this.collectionPercentage = 0;\n  }\n  ngOnInit() {\n    this.getStudent();\n    this.getProf();\n    this.getattEmp();\n    this.getattStu();\n    this.calculateAbsentPercentage();\n    this.calculatepresentPercentage();\n    this.feepercent();\n  }\n  getStudent() {\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      this.paymentData.forEach(payment => {\n        const paymentType = payment.paymentType;\n        const amount = payment.amount;\n        // Check the payment type and accumulate the amount accordingly\n        if (paymentType === 'regularPayment') {\n          this.totalAmounts.regular += amount;\n        } else if (paymentType === 'collectionFee') {\n          this.totalAmounts.collection += amount;\n        }\n      });\n      // Now, totalAmounts contains the total amount for \"regular\" and \"collection\" payment types\n      //console.log(this.totalAmounts);\n      //console.log(this.totalAmounts.collection-this.totalAmounts.regular);\n      this.profite = this.totalAmounts.collection - this.totalAmounts.regular;\n      this.amount = this.totalAmounts.collection;\n    });\n    this.userService.getAll().subscribe(data => {\n      // Filter users by role 'student'\n      this.students = data.filter(user => user.role === 'Student');\n    });\n  }\n  getProf() {\n    this.userService.getAll().subscribe(data => {\n      // Filter users by role 'student'\n      this.Teachers = data.filter(user => user.role !== 'Student');\n      //console.log(\"all teachers\"+JSON.stringify(this.Teachers));\n    });\n  }\n\n  getattEmp() {\n    const currentDate = new Date(); // Get the current date\n    this.att.getAllAttendance().subscribe(data => {\n      const uniqueNames = new Set();\n      // Filter users by status 'Present' and date matching the current date\n      this.attemp = data.filter(user => user.status === 'Present').filter(user => user.iduser.role !== 'Student').filter(user => {\n        // Convert the date from the data to a JavaScript Date object\n        const attendanceDate = new Date(user.datenow);\n        // Check if the date matches the current date\n        if (attendanceDate.getDate() === currentDate.getDate() && attendanceDate.getMonth() === currentDate.getMonth() && attendanceDate.getFullYear() === currentDate.getFullYear()) {\n          // Check if the name is not already in the Set\n          if (!uniqueNames.has(user.iduser.name)) {\n            // Add the name to the Set\n            uniqueNames.add(user.iduser.name);\n            return true;\n          }\n        }\n        return false;\n      });\n      console.log(this.attemp);\n    });\n  }\n  getattStu() {\n    const currentDate = new Date(); // Get the current date\n    this.att.getAllAttendance().subscribe(data => {\n      const uniqueNames = new Set();\n      // Filter users by status 'Absent', role 'Student', and date matching the current date\n      this.attstu = data.filter(user => user.status === 'Absent').filter(user => user.iduser.role === 'Student').filter(user => {\n        // Convert the date from the data to a JavaScript Date object\n        const attendanceDate = new Date(user.datenow);\n        // Check if the date matches the current date\n        if (attendanceDate.getDate() === currentDate.getDate() && attendanceDate.getMonth() === currentDate.getMonth() && attendanceDate.getFullYear() === currentDate.getFullYear()) {\n          // Check if the name is not already in the Set\n          if (!uniqueNames.has(user.iduser.name)) {\n            // Add the name to the Set\n            uniqueNames.add(user.iduser.name);\n            return true;\n          }\n        }\n        return false;\n      });\n    });\n  }\n  calculateAbsentPercentage() {\n    //console.log(\"Total students:\", this.students.length);\n    // console.log(\"Absent students:\", this.attstu.length);\n    if (this.students.length > 0) {\n      return this.absentPercentage = this.attstu.length / this.students.length * 100;\n    } else {\n      return this.absentPercentage = 0; // Handle cases where there are no students\n    }\n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  calculatepresentPercentage() {\n    //console.log(\"Total employee:\", this.Teachers.length);\n    //console.log(\"Absent students:\", this.attemp.length);\n    if (this.students.length > 0) {\n      return this.precencePercentage = this.attemp.length / this.Teachers.length * 100;\n    } else {\n      return this.precencePercentage = 0; // Handle cases where there are no students\n    }\n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  feepercent() {\n    const currentDate = new Date();\n    const currentMonth = currentDate.getMonth() + 1; // Adding 1 because getMonth() is zero-based\n    const currentYear = currentDate.getFullYear();\n    // Initialize variables for storing the total fees for this month and the total fees for all months\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      // Iterate through the payment data to calculate the fees\n      this.paymentData.forEach(payment => {\n        const paymentDate = new Date(payment.paymentDate);\n        console.log(paymentDate);\n        const paymentMonth = paymentDate.getMonth() + 1;\n        const paymentYear = paymentDate.getFullYear();\n        // Check if the payment is for the current month and year\n        if (paymentMonth === currentMonth && paymentYear === currentYear && payment.paymentType === 'collectionFee') {\n          this.thisMonthFees += payment.amount;\n        }\n        // Accumulate all payments for the total fees\n        this.totalFees += payment.amount;\n      });\n      // Calculate the fee collection percentage for this month\n      this.feeCollectionPercentage = this.thisMonthFees / this.totalFees * 100;\n      console.log(`Fee collection for this month: $${this.thisMonthFees}`);\n      console.log(`Total fee collection: $${this.totalFees}`);\n      console.log(`Fee collection percentage for this month: ${this.feeCollectionPercentage.toFixed(2)}%`);\n    });\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AttendanceService), i0.ɵɵdirectiveInject(i3.ClasseroomService), i0.ɵɵdirectiveInject(i4.PaymentService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 132,\n    vars: 20,\n    consts: [[1, \"row\"], [1, \"col-md-6\", \"grid-margin\", \"stretch-card\"], [1, \"col-md-6\", \"grid-margin\", \"transparent\"], [1, \"col-md-6\", \"mb-4\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-tale\"], [1, \"card-body\"], [1, \"mb-4\"], [1, \"fs-30\", \"mb-2\"], [1, \"card\", \"card-dark-blue\"], [1, \"col-md-6\", \"mb-4\", \"mb-lg-0\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-light-blue\"], [1, \"col-md-6\", \"stretch-card\", \"transparent\"], [1, \"card\", \"card-light-danger\"], [1, \"container\"], [1, \"row\", \"gx-5\"], [1, \"col-8\"], [1, \"card\"], [1, \"col-4\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"f-right\"], [1, \"progress\", \"mb-3\", 2, \"height\", \"5px\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-info\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-secondary\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"80\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-warning\"], [1, \"card-body\", \"bg-info\"], [1, \"ms1-container\"], [\"href\", \"https://desktop.eskooly.com\", 1, \"w-4\"], [1, \"m-b-5\", 2, \"line-height\", \"12px\"], [2, \"color\", \"#555\", \"font-size\", \"10px\", \"margin-bottom\", \"4px\", \"line-height\", \"10px\"], [\"href\", \"https://desktop.eskooly.com\"], [1, \"btn\", \"btn-sm\", \"waves-effect\", \"waves-light\", 2, \"background\", \"#673de5\", \"color\", \"#fff\", \"font-size\", \"8px\", \"line-height\", \"8px\", \"padding\", \"6px\"], [1, \"fa\", \"fa-windows\", 2, \"font-size\", \"15px\"], [2, \"font-size\", \"6px\"], [1, \"btn\", \"btn-sm\", \"waves-effect\", \"waves-light\", 2, \"background\", \"#333\", \"color\", \"#fff\", \"font-size\", \"8px\", \"line-height\", \"8px\", \"margin-left\", \"3px\", \"padding\", \"6px\"], [1, \"fa\", \"fa-apple\", 2, \"font-size\", \"15px\"], [1, \"col-6\"], [1, \"card-title\", \"fw-mediumbold\"], [1, \"card-list\"], [\"class\", \"item-list\", 4, \"ngFor\", \"ngForOf\"], [1, \"item-list\"], [1, \"avatar\"], [\"src\", \"../assets/img/jm_denis.jpg\", \"alt\", \"...\", 1, \"avatar-img\", \"rounded-circle\"], [1, \"info-user\", \"ml-3\"], [1, \"username\"], [1, \"status\"], [1, \"btn\", \"btn-icon\", \"btn-danger\", \"btn-round\", \"btn-xs\"], [1, \"fas\", \"fa-envelope\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"app-weather\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 0)(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"p\", 6);\n        i0.ɵɵtext(9, \"Today\\u2019s Bookings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 7);\n        i0.ɵɵtext(11, \"4006\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13, \"10.00% (30 days)\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"div\", 3)(15, \"div\", 8)(16, \"div\", 5)(17, \"p\", 6);\n        i0.ɵɵtext(18, \"Total Bookings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\", 7);\n        i0.ɵɵtext(20, \"61344\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"p\");\n        i0.ɵɵtext(22, \"22.00% (30 days)\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(23, \"div\", 0)(24, \"div\", 9)(25, \"div\", 10)(26, \"div\", 5)(27, \"p\", 6);\n        i0.ɵɵtext(28, \"Number of Meetings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"p\", 7);\n        i0.ɵɵtext(30, \"34040\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"p\");\n        i0.ɵɵtext(32, \"2.00% (30 days)\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(33, \"div\", 11)(34, \"div\", 12)(35, \"div\", 5)(36, \"p\", 6);\n        i0.ɵɵtext(37, \"Number of Clients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"p\", 7);\n        i0.ɵɵtext(39, \"47033\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"p\");\n        i0.ɵɵtext(41, \"0.22% (30 days)\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(42, \"div\", 13)(43, \"div\", 14)(44, \"div\", 15)(45, \"div\", 16)(46, \"div\", 5);\n        i0.ɵɵtext(47, \" line chart \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(48, \"div\", 17)(49, \"div\", 16)(50, \"div\", 5)(51, \"div\", 18)(52, \"small\");\n        i0.ɵɵtext(53, \"\\u00C9tudiants Absents Aujourd'hui\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"small\", 19);\n        i0.ɵɵtext(55);\n        i0.ɵɵpipe(56, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"div\", 20);\n        i0.ɵɵelement(58, \"div\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"div\", 18)(60, \"small\");\n        i0.ɵɵtext(61, \"Employees Presents Aujourd'hui\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"small\", 19);\n        i0.ɵɵtext(63);\n        i0.ɵɵpipe(64, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(65, \"div\", 20);\n        i0.ɵɵelement(66, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 18)(68, \"small\");\n        i0.ɵɵtext(69, \"Collecte des frais ce mois-ci\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"small\", 19);\n        i0.ɵɵtext(71);\n        i0.ɵɵpipe(72, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"div\", 20);\n        i0.ɵɵelement(74, \"div\", 23);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(75, \"div\", 14)(76, \"div\", 15)(77, \"div\", 16)(78, \"div\", 5);\n        i0.ɵɵtext(79, \" line chart \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(80, \"div\", 17)(81, \"div\", 16)(82, \"div\", 24)(83, \"div\", 25)(84, \"a\", 26)(85, \"h6\", 27);\n        i0.ɵɵtext(86, \"Desktop Version\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"p\", 28);\n        i0.ɵɵtext(88, \"*Download & install eSkooly\");\n        i0.ɵɵelement(89, \"br\");\n        i0.ɵɵtext(90, \"on your PC.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(91, \"a\", 29)(92, \"button\", 30)(93, \"table\")(94, \"tbody\")(95, \"tr\")(96, \"td\");\n        i0.ɵɵelement(97, \"i\", 31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(98, \"td\")(99, \"strong\");\n        i0.ɵɵtext(100, \"Download\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(101, \"br\");\n        i0.ɵɵelementStart(102, \"span\", 32);\n        i0.ɵɵtext(103, \"For Windows\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(104, \"a\", 29)(105, \"button\", 33)(106, \"table\")(107, \"tbody\")(108, \"tr\")(109, \"td\");\n        i0.ɵɵelement(110, \"i\", 34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(111, \"td\")(112, \"strong\");\n        i0.ɵɵtext(113, \"Download\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(114, \"br\");\n        i0.ɵɵelementStart(115, \"span\", 32);\n        i0.ɵɵtext(116, \"For MacOS \");\n        i0.ɵɵelementEnd()()()()()()()()()()()();\n        i0.ɵɵelementStart(117, \"div\", 14)(118, \"div\", 35)(119, \"div\", 16)(120, \"div\", 5)(121, \"div\", 36);\n        i0.ɵɵtext(122, \"Absents Etudients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(123, \"div\", 37);\n        i0.ɵɵtemplate(124, DashboardComponent_div_124_Template, 13, 5, \"div\", 38);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(125, \"div\", 35)(126, \"div\", 16)(127, \"div\", 5)(128, \"div\", 36);\n        i0.ɵɵtext(129, \"Presents Employees\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(130, \"div\", 37);\n        i0.ɵɵtemplate(131, DashboardComponent_div_131_Template, 13, 5, \"div\", 38);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(55);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(56, 11, ctx.absentPercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.calculateAbsentPercentage(), \"%\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(64, 14, ctx.precencePercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.calculatepresentPercentage(), \"%\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(72, 17, ctx.feeCollectionPercentage, \"1.2-2\"), \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.feeCollectionPercentage, \"%\");\n        i0.ɵɵadvance(50);\n        i0.ɵɵproperty(\"ngForOf\", ctx.attstu);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.attemp);\n      }\n    },\n    dependencies: [i5.NgForOf, i6.WeatherComponent, i5.DecimalPipe, i5.DatePipe],\n    styles: [\"\\n\\n.card[_ngcontent-%COMP%] {\\n    box-shadow: none;\\n    -webkit-box-shadow: none;\\n    -moz-box-shadow: none;\\n    -ms-box-shadow: none;\\n    transition: background 0.25s ease;\\n    -webkit-transition: background 0.25s ease;\\n    -moz-transition: background 0.25s ease;\\n    -ms-transition: background 0.25s ease;\\n    border: none;\\n  }\\n  \\n  .card.tale-bg[_ngcontent-%COMP%] {\\n    background-image: url('deux-pots.jpg');\\n    background-size: cover;\\n    background-position: center;\\n   \\n    height: 93%;\\n  }\\n  \\n  .card.transparent[_ngcontent-%COMP%] {\\n    background: transparent;\\n  }\\n  \\n  .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n    padding: 1.25rem 1.25rem;\\n  }\\n  \\n  .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]    + .card-body[_ngcontent-%COMP%] {\\n    padding-top: 1rem;\\n  }\\n  \\n  .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\\n    color: #010101;\\n    margin-bottom: 1.2rem;\\n    text-transform: capitalize;\\n    font-size: 1.125rem;\\n    font-weight: 600;\\n  }\\n  \\n  .card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%] {\\n    font-weight: 400;\\n    margin-top: 0.625rem;\\n    margin-bottom: 0.625rem;\\n  }\\n  \\n  .card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%] {\\n    margin-bottom: .875rem;\\n    font-weight: 400;\\n    color: #76838f;\\n  }\\n  \\n  .card.card-outline-success[_ngcontent-%COMP%] {\\n    border: 1px solid #57B657;\\n  }\\n  \\n  .card.card-outline-primary[_ngcontent-%COMP%] {\\n    border: 1px solid #4B49AC;\\n  }\\n  \\n  .card.card-outline-warning[_ngcontent-%COMP%] {\\n    border: 1px solid #FFC100;\\n  }\\n  \\n  .card.card-outline-danger[_ngcontent-%COMP%] {\\n    border: 1px solid #FF4747;\\n  }\\n  \\n  .card.card-rounded[_ngcontent-%COMP%] {\\n    border-radius: 5px;\\n  }\\n  \\n  .card.card-faded[_ngcontent-%COMP%] {\\n    background: #b5b0b2;\\n    border-color: #b5b0b2;\\n  }\\n  \\n  .card.card-circle-progress[_ngcontent-%COMP%] {\\n    color: #ffffff;\\n    text-align: center;\\n  }\\n  \\n  .card.card-img-holder[_ngcontent-%COMP%] {\\n    position: relative;\\n  }\\n  \\n  .card.card-img-holder[_ngcontent-%COMP%]   .card-img-absolute[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    height: 100%;\\n  }\\n  \\n  .card.card-weather[_ngcontent-%COMP%]   .weather-daily[_ngcontent-%COMP%]   .weather-day[_ngcontent-%COMP%] {\\n    opacity: .5;\\n    font-weight: 900;\\n  }\\n  \\n  .card.card-weather[_ngcontent-%COMP%]   .weather-daily[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    font-size: 20px;\\n  }\\n  \\n  .card.card-weather[_ngcontent-%COMP%]   .weather-daily[_ngcontent-%COMP%]   .weather-temp[_ngcontent-%COMP%] {\\n    margin-top: .5rem;\\n    margin-bottom: 0;\\n    opacity: .5;\\n    font-size: .75rem;\\n  }\\n  \\n  .card.card-tale[_ngcontent-%COMP%] {\\n    background: #7DA0FA;\\n    color: #ffffff;\\n  }\\n  \\n  .card.card-tale[_ngcontent-%COMP%]:hover {\\n    background: #96b2fb;\\n  }\\n  \\n  .card.card-dark-blue[_ngcontent-%COMP%] {\\n    background: #4747A1;\\n    color: #ffffff;\\n  }\\n  \\n  .card.card-dark-blue[_ngcontent-%COMP%]:hover {\\n    background: #5050b2;\\n  }\\n  \\n  .card.card-light-blue[_ngcontent-%COMP%] {\\n    background: #7978E9;\\n    color: #ffffff;\\n  }\\n  \\n  .card.card-light-blue[_ngcontent-%COMP%]:hover {\\n    background: #8f8eed;\\n  }\\n  \\n  .card.card-light-danger[_ngcontent-%COMP%] {\\n    background: #F3797E;\\n    color: #ffffff;\\n  }\\n  \\n  .card.card-light-danger[_ngcontent-%COMP%]:hover {\\n    background: #f59095;\\n  }\\n  \\n  .card-inverse-primary[_ngcontent-%COMP%] {\\n    background: rgba(75, 73, 172, 0.2);\\n    border: 1px solid #45439e;\\n    color: #393783;\\n  }\\n  \\n  .card-inverse-secondary[_ngcontent-%COMP%] {\\n    background: rgba(163, 164, 165, 0.2);\\n    border: 1px solid #969798;\\n    color: #7c7d7d;\\n  }\\n  \\n  .card-inverse-success[_ngcontent-%COMP%] {\\n    background: rgba(87, 182, 87, 0.2);\\n    border: 1px solid #50a750;\\n    color: #428a42;\\n  }\\n  \\n  .card-inverse-info[_ngcontent-%COMP%] {\\n    background: rgba(36, 138, 253, 0.2);\\n    border: 1px solid #217fe9;\\n    color: #1b69c0;\\n  }\\n  \\n  .card-inverse-warning[_ngcontent-%COMP%] {\\n    background: rgba(255, 193, 0, 0.2);\\n    border: 1px solid #ebb200;\\n    color: #c29300;\\n  }\\n  \\n  .card-inverse-danger[_ngcontent-%COMP%] {\\n    background: rgba(255, 71, 71, 0.2);\\n    border: 1px solid #eb4141;\\n    color: #c23636;\\n  }\\n  \\n  .card-inverse-light[_ngcontent-%COMP%] {\\n    background: rgba(248, 249, 250, 0.2);\\n    border: 1px solid #e4e5e6;\\n    color: #bcbdbe;\\n  }\\n  \\n  .card-inverse-dark[_ngcontent-%COMP%] {\\n    background: rgba(40, 47, 58, 0.2);\\n    border: 1px solid #252b35;\\n    color: #1e242c;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQVU7QUFDVjtJQUNJLGdCQUFnQjtJQUNoQix3QkFBd0I7SUFDeEIscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQixpQ0FBaUM7SUFDakMseUNBQXlDO0lBQ3pDLHNDQUFzQztJQUN0QyxxQ0FBcUM7SUFDckMsWUFBWTtFQUNkOztFQUVBO0lBQ0Usc0NBQXFEO0lBQ3JELHNCQUFzQjtJQUN0QiwyQkFBMkI7O0lBRTNCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLHdCQUF3QjtFQUMxQjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxxQkFBcUI7SUFDckIsMEJBQTBCO0lBQzFCLG1CQUFtQjtJQUNuQixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsb0JBQW9CO0lBQ3BCLHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixnQkFBZ0I7SUFDaEIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxjQUFjO0lBQ2Qsa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0lBQ1IsWUFBWTtFQUNkOztFQUVBO0lBQ0UsV0FBVztJQUNYLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLFdBQVc7SUFDWCxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxtQkFBbUI7SUFDbkIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixjQUFjO0VBQ2hCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsbUJBQW1CO0lBQ25CLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxtQkFBbUI7SUFDbkIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG9DQUFvQztJQUNwQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG1DQUFtQztJQUNuQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG9DQUFvQztJQUNwQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGlDQUFpQztJQUNqQyx5QkFBeUI7SUFDekIsY0FBYztFQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIENhcmRzICovXHJcbi5jYXJkIHtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAtbW96LWJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAtbXMtYm94LXNoYWRvdzogbm9uZTtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4yNXMgZWFzZTtcclxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjI1cyBlYXNlO1xyXG4gICAgLW1vei10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMjVzIGVhc2U7XHJcbiAgICAtbXMtdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjI1cyBlYXNlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC50YWxlLWJnIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnc3JjL2Fzc2V0cy9pbWcvZGV1eC1wb3RzLmpwZycpO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICAgXHJcbiAgICBoZWlnaHQ6IDkzJTtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQudHJhbnNwYXJlbnQge1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXJkIC5jYXJkLWJvZHkge1xyXG4gICAgcGFkZGluZzogMS4yNXJlbSAxLjI1cmVtO1xyXG4gIH1cclxuICBcclxuICAuY2FyZCAuY2FyZC1ib2R5ICsgLmNhcmQtYm9keSB7XHJcbiAgICBwYWRkaW5nLXRvcDogMXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQgLmNhcmQtdGl0bGUge1xyXG4gICAgY29sb3I6ICMwMTAxMDE7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxLjJyZW07XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gIH1cclxuICBcclxuICAuY2FyZCAuY2FyZC1zdWJ0aXRsZSB7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgbWFyZ2luLXRvcDogMC42MjVyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwLjYyNXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQgLmNhcmQtZGVzY3JpcHRpb24ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogLjg3NXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICBjb2xvcjogIzc2ODM4ZjtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1vdXRsaW5lLXN1Y2Nlc3Mge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzU3QjY1NztcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1vdXRsaW5lLXByaW1hcnkge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzRCNDlBQztcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1vdXRsaW5lLXdhcm5pbmcge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI0ZGQzEwMDtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1vdXRsaW5lLWRhbmdlciB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjRkY0NzQ3O1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLXJvdW5kZWQge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWZhZGVkIHtcclxuICAgIGJhY2tncm91bmQ6ICNiNWIwYjI7XHJcbiAgICBib3JkZXItY29sb3I6ICNiNWIwYjI7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXJkLmNhcmQtY2lyY2xlLXByb2dyZXNzIHtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWltZy1ob2xkZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWltZy1ob2xkZXIgLmNhcmQtaW1nLWFic29sdXRlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLXdlYXRoZXIgLndlYXRoZXItZGFpbHkgLndlYXRoZXItZGF5IHtcclxuICAgIG9wYWNpdHk6IC41O1xyXG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC13ZWF0aGVyIC53ZWF0aGVyLWRhaWx5IGkge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLXdlYXRoZXIgLndlYXRoZXItZGFpbHkgLndlYXRoZXItdGVtcCB7XHJcbiAgICBtYXJnaW4tdG9wOiAuNXJlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICBvcGFjaXR5OiAuNTtcclxuICAgIGZvbnQtc2l6ZTogLjc1cmVtO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLXRhbGUge1xyXG4gICAgYmFja2dyb3VuZDogIzdEQTBGQTtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLXRhbGU6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzk2YjJmYjtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1kYXJrLWJsdWUge1xyXG4gICAgYmFja2dyb3VuZDogIzQ3NDdBMTtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWRhcmstYmx1ZTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNTA1MGIyO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWxpZ2h0LWJsdWUge1xyXG4gICAgYmFja2dyb3VuZDogIzc5NzhFOTtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWxpZ2h0LWJsdWU6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzhmOGVlZDtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQuY2FyZC1saWdodC1kYW5nZXIge1xyXG4gICAgYmFja2dyb3VuZDogI0YzNzk3RTtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC5jYXJkLWxpZ2h0LWRhbmdlcjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjU5MDk1O1xyXG4gIH1cclxuICBcclxuICAuY2FyZC1pbnZlcnNlLXByaW1hcnkge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSg3NSwgNzMsIDE3MiwgMC4yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NTQzOWU7XHJcbiAgICBjb2xvcjogIzM5Mzc4MztcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQtaW52ZXJzZS1zZWNvbmRhcnkge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgxNjMsIDE2NCwgMTY1LCAwLjIpO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzk2OTc5ODtcclxuICAgIGNvbG9yOiAjN2M3ZDdkO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC1pbnZlcnNlLXN1Y2Nlc3Mge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSg4NywgMTgyLCA4NywgMC4yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM1MGE3NTA7XHJcbiAgICBjb2xvcjogIzQyOGE0MjtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQtaW52ZXJzZS1pbmZvIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMzYsIDEzOCwgMjUzLCAwLjIpO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzIxN2ZlOTtcclxuICAgIGNvbG9yOiAjMWI2OWMwO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC1pbnZlcnNlLXdhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE5MywgMCwgMC4yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYmIyMDA7XHJcbiAgICBjb2xvcjogI2MyOTMwMDtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQtaW52ZXJzZS1kYW5nZXIge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDcxLCA3MSwgMC4yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYjQxNDE7XHJcbiAgICBjb2xvcjogI2MyMzYzNjtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQtaW52ZXJzZS1saWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0OCwgMjQ5LCAyNTAsIDAuMik7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTRlNWU2O1xyXG4gICAgY29sb3I6ICNiY2JkYmU7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXJkLWludmVyc2UtZGFyayB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDQwLCA0NywgNTgsIDAuMik7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMjUyYjM1O1xyXG4gICAgY29sb3I6ICMxZTI0MmM7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","item_r2","iduser","name","role","ɵɵpipeBind1","datenow","item_r3","DashboardComponent","constructor","userService","att","Cla","paie","thisMonthFees","totalFees","feeCollectionPercentage","totalAmounts","regular","collection","profite","paymentData","totalRegularPayments","totalCollectionFees","absentPercentage","precencePercentage","amount","ttcEtudient","students","Teachers","attemp","attstu","collectionPercentage","ngOnInit","getStudent","getProf","getattEmp","getattStu","calculateAbsentPercentage","calculatepresentPercentage","feepercent","getAllPayments","subscribe","data","forEach","payment","paymentType","getAll","filter","user","currentDate","Date","getAllAttendance","uniqueNames","Set","status","attendanceDate","getDate","getMonth","getFullYear","has","add","console","log","length","currentMonth","currentYear","paymentDate","paymentMonth","paymentYear","toFixed","_","ɵɵdirectiveInject","i1","UserService","i2","AttendanceService","i3","ClasseroomService","i4","PaymentService","_2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵtemplate","DashboardComponent_div_124_Template","DashboardComponent_div_131_Template","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵstyleProp","ɵɵproperty"],"sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\dashboard\\dashboard.component.ts","C:\\Users\\Mehdi\\Desktop\\Angular\\admin-School\\src\\app\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IAttendance, IUser } from 'src/models';\nimport { UserService } from '../user.service';\nimport { AttendanceService } from '../attendance.service';\nimport { ClasseroomService } from '../classeroom.service';\nimport { PaymentService } from '../payment.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit{\n  thisMonthFees: number = 0;\n  totalFees: number = 0;\n  feeCollectionPercentage: number = 0;\n  totalAmounts = {\n    regular: 0,\n    collection: 0,\n    \n  };\n  profite=0\n  paymentData: any[] = [];\n  totalRegularPayments: number[] = [];\n  totalCollectionFees: number[] = [];\n  absentPercentage: number = 0;\n  precencePercentage: number = 0;\n  amount=0\n  ttcEtudient=0\n  students: IUser[] = [];\n  Teachers: any[] = [];\n  attemp:IAttendance[]=[];\n  attstu:IAttendance[]=[];\n  \n  collectionPercentage: number =0\n  constructor(private userService:UserService,private att:AttendanceService,private Cla:ClasseroomService,\n     private paie:PaymentService){}\n  ngOnInit(): void {\n    this.getStudent();\n    this.getProf();\n    this.getattEmp();\n    this.getattStu();\n    this.calculateAbsentPercentage();\n    this.calculatepresentPercentage();\n    this.feepercent();\n   \n  }\n  getStudent(){\n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n      this.paymentData.forEach((payment) => {\n        \n        const paymentType = payment.paymentType;\n        const amount = payment.amount;\n      \n        // Check the payment type and accumulate the amount accordingly\n        if (paymentType === 'regularPayment') {\n          this.totalAmounts.regular += amount;\n        } else if (paymentType === 'collectionFee') {\n          this.totalAmounts.collection += amount;\n        }\n      });\n      \n      // Now, totalAmounts contains the total amount for \"regular\" and \"collection\" payment types\n      //console.log(this.totalAmounts);\n      //console.log(this.totalAmounts.collection-this.totalAmounts.regular);\n      this.profite=this.totalAmounts.collection-this.totalAmounts.regular\n      this.amount=this.totalAmounts.collection\n      \n\n    });\n    this.userService.getAll()\n  .subscribe((data: IUser[]) => {\n    // Filter users by role 'student'\n    this.students = data.filter(user => user.role === 'Student');\n    \n  });\n  }\n\n  getProf(){\n    this.userService.getAll()\n    .subscribe((data: IUser[]) => {\n      // Filter users by role 'student'\n      this.Teachers = data.filter(user => user.role !== 'Student');\n      //console.log(\"all teachers\"+JSON.stringify(this.Teachers));\n      \n\n    });\n  }\n\n  getattEmp() {\n    const currentDate = new Date(); // Get the current date\n  \n    this.att.getAllAttendance()\n      .subscribe((data: IAttendance[]) => {\n        const uniqueNames = new Set<string>();\n  \n        // Filter users by status 'Present' and date matching the current date\n        this.attemp = data\n          .filter(user => user.status === 'Present')\n          .filter(user => user.iduser.role !== 'Student')\n          .filter(user => {\n            // Convert the date from the data to a JavaScript Date object\n            const attendanceDate = new Date(user.datenow);\n  \n            // Check if the date matches the current date\n            if (\n              attendanceDate.getDate() === currentDate.getDate() &&\n              attendanceDate.getMonth() === currentDate.getMonth() &&\n              attendanceDate.getFullYear() === currentDate.getFullYear()\n            ) {\n              // Check if the name is not already in the Set\n              if (!uniqueNames.has(user.iduser.name)) {\n                // Add the name to the Set\n                uniqueNames.add(user.iduser.name);\n                return true;\n              }\n            }\n            return false;\n          });\n  \n        console.log(this.attemp);\n        \n      });\n  }\n  \n  getattStu() {\n    const currentDate = new Date(); // Get the current date\n  \n    this.att.getAllAttendance()\n      .subscribe((data: IAttendance[]) => {\n        const uniqueNames = new Set<string>();\n  \n        // Filter users by status 'Absent', role 'Student', and date matching the current date\n        this.attstu = data\n          .filter(user => user.status === 'Absent')\n          .filter(user => user.iduser.role === 'Student')\n          .filter(user => {\n            // Convert the date from the data to a JavaScript Date object\n            const attendanceDate = new Date(user.datenow);\n  \n            // Check if the date matches the current date\n            if (\n              attendanceDate.getDate() === currentDate.getDate() &&\n              attendanceDate.getMonth() === currentDate.getMonth() &&\n              attendanceDate.getFullYear() === currentDate.getFullYear()\n            ) {\n              // Check if the name is not already in the Set\n              if (!uniqueNames.has(user.iduser.name)) {\n                // Add the name to the Set\n                uniqueNames.add(user.iduser.name);\n                return true;\n              }\n            }\n            return false;\n          });\n  \n        \n      });\n  }\n  \n  \n  calculateAbsentPercentage() {\n    //console.log(\"Total students:\", this.students.length);\n   // console.log(\"Absent students:\", this.attstu.length);\n  \n    if (this.students.length > 0) {\n     return this.absentPercentage = (this.attstu.length / this.students.length) * 100;\n    } else {\n      return this.absentPercentage = 0; // Handle cases where there are no students\n    }\n  \n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n  calculatepresentPercentage() {\n    //console.log(\"Total employee:\", this.Teachers.length);\n    //console.log(\"Absent students:\", this.attemp.length);\n  \n    if (this.students.length > 0) {\n     return this.precencePercentage = (this.attemp.length / this.Teachers.length) * 100;\n    } else {\n      return this.precencePercentage = 0; // Handle cases where there are no students\n    }\n  \n    //console.log(\"Absent percentage:\", this.absentPercentage);\n  }\n\n  feepercent(){\n    const currentDate = new Date();\n    const currentMonth = currentDate.getMonth() + 1; // Adding 1 because getMonth() is zero-based\n    const currentYear = currentDate.getFullYear();\n    \n    // Initialize variables for storing the total fees for this month and the total fees for all months\n    \n    \n    this.paie.getAllPayments().subscribe(data => {\n      this.paymentData = data;\n    \n      // Iterate through the payment data to calculate the fees\n      this.paymentData.forEach((payment) => {\n        const paymentDate = new Date(payment.paymentDate);\n        console.log(paymentDate);\n        \n        const paymentMonth = paymentDate.getMonth() + 1;\n        const paymentYear = paymentDate.getFullYear();\n        \n        // Check if the payment is for the current month and year\n        if (paymentMonth === currentMonth && paymentYear === currentYear && payment.paymentType === 'collectionFee') {\n          this.thisMonthFees += payment.amount;\n        }\n    \n        // Accumulate all payments for the total fees\n        this.totalFees += payment.amount;\n      });\n    \n      // Calculate the fee collection percentage for this month\n      this.feeCollectionPercentage = (this.thisMonthFees / this.totalFees) * 100;\n    \n      console.log(`Fee collection for this month: $${this.thisMonthFees}`);\n      console.log(`Total fee collection: $${this.totalFees}`);\n      console.log(`Fee collection percentage for this month: ${this.feeCollectionPercentage.toFixed(2)}%`);\n    });\n    \n  }\n}\n","<div class=\"row\">\n    <div class=\"col-md-6 grid-margin stretch-card\">\n        <app-weather></app-weather>\n    </div>\n    <div class=\"col-md-6 grid-margin transparent\">\n      <div class=\"row\">\n        <div class=\"col-md-6 mb-4 stretch-card transparent\">\n          <div class=\"card card-tale\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Today’s Bookings</p>\n              <p class=\"fs-30 mb-2\">4006</p>\n              <p>10.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6 mb-4 stretch-card transparent\">\n          <div class=\"card card-dark-blue\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Total Bookings</p>\n              <p class=\"fs-30 mb-2\">61344</p>\n              <p>22.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-6 mb-4 mb-lg-0 stretch-card transparent\">\n          <div class=\"card card-light-blue\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Number of Meetings</p>\n              <p class=\"fs-30 mb-2\">34040</p>\n              <p>2.00% (30 days)</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6 stretch-card transparent\">\n          <div class=\"card card-light-danger\">\n            <div class=\"card-body\">\n              <p class=\"mb-4\">Number of Clients</p>\n              <p class=\"fs-30 mb-2\">47033</p>\n              <p>0.22% (30 days)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n<div class=\"container\">\n    <div class=\"row gx-5\">\n      <div class=\"col-8\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n               line chart\n            </div>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"d-flex justify-content-between\">\n                    <small>Étudiants Absents Aujourd'hui</small><small class=\"f-right\">{{ absentPercentage| number:'1.2-2' }}%</small>\n                </div>  \n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-info\" role=\"progressbar\" [style.width.%]=\"calculateAbsentPercentage()\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                      <div class=\"d-flex justify-content-between\">\n                        <small>Employees Presents Aujourd'hui</small><small class=\"f-right\">{{ precencePercentage| number:'1.2-2' }}%</small>\n                    </div>\n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-secondary\" role=\"progressbar\" [style.width.%]=\"calculatepresentPercentage()\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                      <div class=\"d-flex justify-content-between\">\n                        <small>Collecte des frais ce mois-ci</small><small class=\"f-right\">{{ feeCollectionPercentage| number:'1.2-2' }}%</small>\n                    </div>\n                      <div class=\"progress mb-3\" style=\"height: 5px\">\n                        <div class=\"progress-bar bg-warning\" role=\"progressbar\" [style.width.%]=\"feeCollectionPercentage\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div> \n            </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row gx-5\">\n      <div class=\"col-8\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n               line chart\n            </div>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"card\">\n            <div class=\"card-body bg-info\">\n                <div class=\"ms1-container\"><a href=\"https://desktop.eskooly.com\" class=\"w-4\">\n                    \n                    <h6 class=\"m-b-5\" style=\"line-height:12px;\">Desktop Version</h6>\n                    <p style=\"color:#555;font-size:10px;margin-bottom:4px;line-height:10px;\">*Download &amp; install eSkooly<br>on your PC.</p>\n                    </a><a href=\"https://desktop.eskooly.com\"><button class=\"btn btn-sm waves-effect waves-light\" style=\"background:#673de5;color:#fff;font-size:8px;line-height:8px;padding:6px;\"><table><tbody><tr><td><i class=\"fa fa-windows\" style=\"font-size:15px;\"></i></td><td><strong>Download</strong><br><span style=\"font-size:6px;\">For Windows</span></td></tr></tbody></table></button></a>\n                    <a href=\"https://desktop.eskooly.com\">\n                    <button class=\"btn btn-sm waves-effect waves-light\" style=\"background:#333;color:#fff;font-size:8px;line-height:8px;margin-left:3px;padding:6px;\"><table><tbody><tr><td><i class=\"fa fa-apple\" style=\"font-size:15px;\"></i></td><td><strong>Download</strong><br><span style=\"font-size:6px;\">For MacOS </span></td></tr></tbody></table></button></a>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row gx-5\">\n      <div class=\"col-6\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"card-title fw-mediumbold\">Absents Etudients</div>\n                <div class=\"card-list\">\n                    <div  *ngFor=\"let item of attstu\" class=\"item-list\">\n                        <div class=\"avatar\">\n                            <img src=\"../assets/img/jm_denis.jpg\" alt=\"...\" class=\"avatar-img rounded-circle\">\n                        </div>\n                        <div class=\"info-user ml-3\">\n                            <div class=\"username\">{{item.iduser.name}}</div>\n                            <div class=\"status\">{{item.iduser.role}}</div>\n                            <div class=\"status\">{{item.datenow | date}}</div>\n                        </div>\n                        <button  class=\"btn btn-icon btn-danger btn-round btn-xs\">\n                            <i class=\"fas fa-envelope\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n      <div class=\"col-6\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"card-title fw-mediumbold\">Presents Employees</div>\n                <div class=\"card-list\">\n                    <div *ngFor=\"let item of attemp\" class=\"item-list\">\n                        <div class=\"avatar\">\n                            <img src=\"../assets/img/jm_denis.jpg\" alt=\"...\" class=\"avatar-img rounded-circle\">\n                        </div>\n                        <div class=\"info-user ml-3\">\n                            <div class=\"username\">{{item.iduser.name}}</div>\n                            <div class=\"status\">{{item.iduser.role}}</div>\n                            <div class=\"status\">{{item.datenow | date}}</div>\n                        </div>\n                        <button  class=\"btn btn-icon btn-danger btn-round btn-xs\">\n                            <i class=\"fas fa-envelope\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}