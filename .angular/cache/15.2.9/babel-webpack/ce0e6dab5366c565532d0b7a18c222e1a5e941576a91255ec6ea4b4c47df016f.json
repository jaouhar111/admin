{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/user-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function (a1) {\n  return [\"/profile\", a1];\n};\nfunction StudentsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵelement(2, \"img\", 23);\n    i0.ɵɵelementStart(3, \"h5\", 24);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 25);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 26)(8, \"div\", 27);\n    i0.ɵɵelement(9, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 29);\n    i0.ɵɵelement(11, \"i\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 31);\n    i0.ɵɵlistener(\"click\", function StudentsComponent_div_5_Template_div_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onItemClick(item_r1._id));\n    });\n    i0.ɵɵelement(13, \"i\", 32);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.register);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, item_r1._id));\n  }\n}\nexport class StudentsComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.receivedId = '';\n    this.students = [];\n    this.filteredList = [...this.students];\n    this.stu = \"\";\n  }\n  filterByName() {\n    if (this.stu !== undefined) {\n      this.filteredList = this.students.filter(item => item.name >= this.stu);\n    } else {\n      this.filteredList = [...this.students]; // Réinitialisez la liste si le critère est vide\n    }\n  }\n\n  ngOnInit() {\n    this.userService.getStudent().subscribe(data => {\n      // Filter users by role 'student'\n      this.students = data.filter(user => user.role === 'Student');\n      console.log(this.students);\n      this.filteredList = [...this.students];\n    });\n  }\n  onItemClick(itemId) {\n    this.receivedId = itemId;\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe(() => {\n      console.log('User deleted successfully.');\n      // Perform any other actions after successful deletion.\n    }, error => {\n      console.error('Error deleting user:', error);\n      // Handle error gracefully.\n    });\n\n    const studentIndex = this.students.findIndex(user => user._id === userId);\n    // Find the index of the user to delete in the filteredList array\n    const filteredIndex = this.filteredList.findIndex(user => user._id === userId);\n    // If the user is found in both arrays, remove them\n    if (studentIndex !== -1 && filteredIndex !== -1) {\n      this.students.splice(studentIndex, 1);\n      this.filteredList.splice(filteredIndex, 1);\n    }\n  }\n}\n_class = StudentsComponent;\n_class.ɵfac = function StudentsComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UserServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-students\"]],\n  decls: 25,\n  vars: 2,\n  consts: [[1, \"relative\", \"mb-6\", \"w-52\"], [1, \"absolute\", \"inset-y-0\", \"left-0\", \"flex\", \"items-center\", \"pl-3.5\", \"pointer-events-none\"], [1, \"bi\", \"bi-search\", \"w-4\", \"h-4\", \"text-gray-500\", \"text-sm\"], [\"type\", \"text\", \"placeholder\", \"Chercher Etudient\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"block\", \"w-full\", \"pl-10\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"ngModel\", \"input\", \"ngModelChange\"], [1, \"grid\", \"lg:grid-cols-4\", \"sm:grid-cols-2\", \"items-center\", \"gap-4\", \"mb-4\"], [\"class\", \"w-full max-w-sm bg-white border hover:bg-gray-200 border-gray-200 rounded-xl shadow\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/admission\", 1, \"bg-purple-700\", \"rounded-full\", \"flex\", \"justify-center\", \"items-center\", \"h-40\", \"w-40\", \"text-white\", \"cursor-pointer\"], [1, \"bi\", \"bi-plus\", \"text-3xl\"], [\"id\", \"popup-modal\", \"tabindex\", \"-1\", 1, \"fixed\", \"top-0\", \"left-0\", \"right-0\", \"z-50\", \"hidden\", \"p-4\", \"overflow-x-hidden\", \"overflow-y-auto\", \"md:inset-0\", \"h-[calc(100%-1rem)]\", \"max-h-full\"], [1, \"relative\", \"w-full\", \"max-w-md\", \"max-h-full\"], [1, \"relative\", \"bg-white\", \"rounded-lg\", \"shadow\", \"dark:bg-gray-700\"], [\"type\", \"button\", \"data-modal-hide\", \"popup-modal\", 1, \"absolute\", \"top-3\", \"right-2.5\", \"text-gray-400\", \"bg-transparent\", \"hover:bg-gray-200\", \"hover:text-gray-900\", \"rounded-lg\", \"text-sm\", \"w-8\", \"h-8\", \"ml-auto\", \"inline-flex\", \"justify-center\", \"items-center\", \"dark:hover:bg-gray-600\", \"dark:hover:text-white\"], [\"aria-hidden\", \"true\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 14 14\", 1, \"w-3\", \"h-3\"], [\"stroke\", \"currentColor\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"], [1, \"sr-only\"], [1, \"p-6\", \"text-center\"], [\"aria-hidden\", \"true\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 20 20\", 1, \"mx-auto\", \"mb-4\", \"text-gray-400\", \"w-12\", \"h-12\", \"dark:text-gray-200\"], [\"stroke\", \"currentColor\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"], [1, \"mb-5\", \"text-lg\", \"font-normal\", \"text-gray-500\", \"dark:text-gray-400\"], [\"data-modal-hide\", \"popup-modal\", 1, \"text-white\", \"bg-red-600\", \"hover:bg-red-800\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-red-300\", \"dark:focus:ring-red-800\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"inline-flex\", \"items-center\", \"px-5\", \"py-2.5\", \"text-center\", \"mr-2\", 3, \"click\"], [\"data-modal-hide\", \"popup-modal\", \"type\", \"button\", 1, \"text-gray-500\", \"bg-white\", \"hover:bg-gray-100\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-gray-200\", \"rounded-lg\", \"border\", \"border-gray-200\", \"text-sm\", \"font-medium\", \"px-5\", \"py-2.5\", \"hover:text-gray-900\", \"focus:z-10\", \"dark:bg-gray-700\", \"dark:text-gray-300\", \"dark:border-gray-500\", \"dark:hover:text-white\", \"dark:hover:bg-gray-600\", \"dark:focus:ring-gray-600\"], [1, \"w-full\", \"max-w-sm\", \"bg-white\", \"border\", \"hover:bg-gray-200\", \"border-gray-200\", \"rounded-xl\", \"shadow\"], [1, \"flex\", \"flex-col\", \"col-span-1\", \"items-center\", \"py-4\"], [\"alt\", \"Bonnie image\", 1, \"w-24\", \"h-24\", \"mb-3\", \"rounded-full\", \"shadow-lg\", 3, \"src\"], [1, \"mb-1\", \"text-xl\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [1, \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\"], [1, \"flex\", \"mt-4\", \"space-x-3\", \"md:mt-6\"], [1, \"inline-flex\", \"items-center\", \"px-2\", \"py-1\", \"text-sm\", \"font-medium\", \"text-center\", \"text-white\", \"bg-slate-400\", \"rounded-full\", \"hover:bg-slate-600\", \"cursor-pointer\", 3, \"routerLink\"], [1, \"bi\", \"bi-search\"], [1, \"inline-flex\", \"items-center\", \"px-2\", \"py-1\", \"text-sm\", \"font-medium\", \"text-center\", \"text-white\", \"bg-blue-500\", \"rounded-full\", \"hover:bg-blue-700\", \"cursor-pointer\"], [1, \"bi\", \"bi-pencil\"], [\"data-modal-target\", \"popup-modal\", \"data-modal-toggle\", \"popup-modal\", 1, \"inline-flex\", \"items-center\", \"px-2\", \"py-1\", \"text-sm\", \"font-medium\", \"text-center\", \"text-white\", \"bg-red-500\", \"rounded-full\", \"hover:bg-red-600\", \"cursor-pointer\", 3, \"click\"], [1, \"bi\", \"bi-trash3\"]],\n  template: function StudentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"input\", function StudentsComponent_Template_input_input_3_listener() {\n        return ctx.filterByName();\n      })(\"ngModelChange\", function StudentsComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.stu = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵtemplate(5, StudentsComponent_div_5_Template, 14, 6, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelement(7, \"i\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"div\", 10)(11, \"button\", 11);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(12, \"svg\", 12);\n      i0.ɵɵelement(13, \"path\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(14, \"span\", 14);\n      i0.ɵɵtext(15, \"Close modal\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 15);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(17, \"svg\", 16);\n      i0.ɵɵelement(18, \"path\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(19, \"h3\", 18);\n      i0.ɵɵtext(20, \" \\u00CAtes-vous s\\u00FBr de vouloir supprimer cet \\u00E9l\\u00E8ve ?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function StudentsComponent_Template_button_click_21_listener() {\n        return ctx.deleteUser(ctx.receivedId);\n      });\n      i0.ɵɵtext(22, \" Oui, je suis s\\u00FBr \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"button\", 20);\n      i0.ɵɵtext(24, \"Non, annule\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.stu);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredList);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50cy5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc3R1ZGVudHMvc3R1ZGVudHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esb0tBQW9LIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","StudentsComponent","constructor","userService","router","students","filterByName","stu","undefined","filteredList","filter","item","name","ngOnInit","getStudent","subscribe","data","user","role","console","log","onItemClick","itemId","receivedId","deleteUser","userId","error","studentIndex","findIndex","_id","filteredIndex","splice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\my-dashboard\\src\\app\\pages\\students\\students.component.html","C:\\Users\\Mehdi\\Desktop\\Angular\\my-dashboard\\src\\app\\pages\\students\\students.component.ts"],"sourcesContent":["\n<div class=\"relative mb-6 w-52\">\n  <div class=\"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none\">\n    <i class=\"bi bi-search w-4 h-4 text-gray-500 text-sm\"></i>\n  </div>\n  <input type=\"text\" (input)=\"filterByName()\" [(ngModel)]=\"stu\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Chercher Etudient\">\n</div>\n<div class=\"grid lg:grid-cols-4 sm:grid-cols-2 items-center gap-4 mb-4\">\n    \n           <div *ngFor=\"let item of filteredList\" class=\"w-full max-w-sm bg-white border hover:bg-gray-200 border-gray-200 rounded-xl shadow\">\n<div class=\"flex flex-col col-span-1 items-center py-4\">\n   <img class=\"w-24 h-24 mb-3 rounded-full shadow-lg\" src=\"{{item.photo}}\" alt=\"Bonnie image\"/>\n   \n   <h5 class=\"mb-1 text-xl font-medium text-gray-900 dark:text-white\">{{item.register}}</h5>\n   <span class=\"text-sm text-gray-500 dark:text-gray-400\">{{item.name}}</span>\n   <div class=\"flex mt-4 space-x-3 md:mt-6\">\n   \n    \n    <div [routerLink]=\"['/profile',item._id]\" class=\"inline-flex items-center px-2 py-1 text-sm font-medium text-center text-white bg-slate-400 rounded-full hover:bg-slate-600 cursor-pointer\"><i class=\"bi bi-search\"></i></div> \n       <div  class=\"inline-flex items-center px-2 py-1 text-sm font-medium text-center text-white bg-blue-500 rounded-full hover:bg-blue-700 cursor-pointer\"><i class=\"bi bi-pencil\"></i></div>\n       <div (click)=\"onItemClick(item._id)\" data-modal-target=\"popup-modal\" data-modal-toggle=\"popup-modal\" class=\"inline-flex items-center px-2 py-1 text-sm font-medium text-center text-white bg-red-500 rounded-full hover:bg-red-600 cursor-pointer\"><i class=\"bi bi-trash3\"></i></div>\n   </div>\n</div>\n</div>\n<div routerLink=\"/admission\" class=\"bg-purple-700  rounded-full flex justify-center items-center h-40 w-40  text-white cursor-pointer\">\n    <i class=\"bi bi-plus text-3xl\"></i>\n</div>\n</div>\n\n<div id=\"popup-modal\" tabindex=\"-1\" class=\"fixed top-0 left-0 right-0 z-50 hidden p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full\">\n  <div class=\"relative w-full max-w-md max-h-full\">\n      <div class=\"relative bg-white rounded-lg shadow dark:bg-gray-700\">\n          <button type=\"button\" class=\"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white\" data-modal-hide=\"popup-modal\">\n              <svg class=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\">\n                  <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"/>\n              </svg>\n              <span class=\"sr-only\">Close modal</span>\n          </button>\n          <div class=\"p-6 text-center\">\n              <svg class=\"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 20 20\">\n                  <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"/>\n              </svg>\n              <h3 class=\"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400\"> Êtes-vous sûr de vouloir supprimer cet élève ?</h3>\n              <button  data-modal-hide=\"popup-modal\" (click)=\"deleteUser(receivedId)\" class=\"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2\">\n                Oui, je suis sûr\n              </button>\n              <button data-modal-hide=\"popup-modal\" type=\"button\" class=\"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600\">Non, annule</button>\n          </div>\n      </div>\n  </div>\n</div>","import { Component, OnInit,O } from '@angular/core';\nimport { UserServiceService } from 'src/app/user-service.service';\nimport { IUser } from '../user';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-students',\n  templateUrl: './students.component.html',\n  styleUrls: ['./students.component.css']\n})\nexport class StudentsComponent implements OnInit{\n  receivedId: String='';\n  students: IUser[] = [];\n  filteredList: IUser[] = [...this.students]; \n  stu:String =\"\"\nconstructor(private userService:UserServiceService,private router:Router) {}\nfilterByName(): void {\n  if (this.stu !== undefined) {\n    this.filteredList = this.students.filter(item => item.name >= this.stu);\n  } else {\n    this.filteredList = [...this.students]; // Réinitialisez la liste si le critère est vide\n  }\n}\nngOnInit(): void {\n  this.userService.getStudent()\n\n  .subscribe((data: IUser[]) => {\n    // Filter users by role 'student'\n    this.students = data.filter(user => user.role === 'Student');\n    console.log(this.students);\n    this.filteredList=[...this.students]\n  });\n \n \n}\n\n\n\nonItemClick(itemId: String) {\n  this.receivedId = itemId;\n}\ndeleteUser(userId: String): void {\n  this.userService.deleteUser(userId)\n    .subscribe(\n      () => {\n        console.log('User deleted successfully.');\n        // Perform any other actions after successful deletion.\n        \n      },\n      (error) => {\n        console.error('Error deleting user:', error);\n        // Handle error gracefully.\n      }\n    );\n    const studentIndex = this.students.findIndex((user) => user._id === userId);\n\n  // Find the index of the user to delete in the filteredList array\n  const filteredIndex = this.filteredList.findIndex((user) => user._id === userId);\n\n  // If the user is found in both arrays, remove them\n  if (studentIndex !== -1 && filteredIndex !== -1) {\n    this.students.splice(studentIndex, 1);\n    this.filteredList.splice(filteredIndex, 1);\n    \n}\n}\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}