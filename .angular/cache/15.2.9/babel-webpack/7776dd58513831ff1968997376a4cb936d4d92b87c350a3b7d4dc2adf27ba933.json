{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/classe.service\";\nimport * as i2 from \"src/app/loading.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AddMtaComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r1._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r1.name);\n  }\n}\nexport class AddMtaComponent {\n  constructor(Cla, mta, router) {\n    this.Cla = Cla;\n    this.mta = mta;\n    this.router = router;\n    this.name = '';\n    this.note = '';\n    this.classeroom = \"\";\n    this.Classes = [];\n  }\n  ngOnInit() {\n    this.Cla.getClasse().subscribe(classe => {\n      this.Classes = classe;\n      console.log(this.Classes);\n    });\n  }\n  ajMata() {\n    this.mta.ajMatiere(this.name, this.note).subscribe(response => {\n      const matiereId = response.body.matiereId; // Access the generated student ID from the response\n      console.log('matiere ID:', matiereId);\n      console.log('classeroom ID', this.classeroom);\n      // Now you have the generated student ID\n      this.Cla.updateClassroomAndAddMatiere(this.classeroom, matiereId).subscribe(updatedClassroom => {\n        console.log('Classroom updated successfully:', updatedClassroom);\n      }, error => {\n        console.error('Error:', error);\n        // Handle error\n      });\n    }, error => {\n      console.error('Error:', error);\n      // Handle error\n    });\n\n    this.router.navigate(['/matiere']);\n  }\n}\n_class = AddMtaComponent;\n_class.ɵfac = function AddMtaComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ClasseService), i0.ɵɵdirectiveInject(i2.LoadingService), i0.ɵɵdirectiveInject(i3.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-add-mta\"]],\n  decls: 21,\n  vars: 4,\n  consts: [[1, \"bg-white\", \"dark:bg-gray-900\"], [1, \"py-4\", \"px-4\", \"mx-auto\", \"max-w-2xl\", \"lg:py-16\"], [\"action\", \"#\"], [1, \"grid\", \"gap-4\", \"sm:grid-cols-2\", \"sm:gap-6\"], [1, \"sm:col-span-2\"], [\"for\", \"category\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"id\", \"category\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-primary-500\", \"focus:border-primary-500\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-primary-500\", \"dark:focus:border-primary-500\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-full\"], [\"for\", \"brand\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"text\", \"name\", \"brand\", \"id\", \"brand\", \"placeholder\", \"Product brand\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-primary-500\", \"dark:focus:border-primary-500\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"number\", \"name\", \"price\", \"id\", \"price\", \"placeholder\", \"max 40\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-primary-500\", \"dark:focus:border-primary-500\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"inline-flex\", \"items-center\", \"px-5\", \"py-2.5\", \"mt-4\", \"sm:mt-6\", \"text-sm\", \"font-medium\", \"text-center\", \"text-white\", \"bg-purple-700\", \"rounded-lg\", \"focus:ring-4\", \"focus:ring-primary-200\", \"dark:focus:ring-primary-900\", \"hover:bg-primary-800\", 3, \"click\"], [3, \"value\"]],\n  template: function AddMtaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"form\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"label\", 5);\n      i0.ɵɵtext(6, \"Clasee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"select\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function AddMtaComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.classeroom = $event;\n      });\n      i0.ɵɵelementStart(8, \"option\", 7);\n      i0.ɵɵtext(9, \"Choisire Classe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, AddMtaComponent_option_10_Template, 2, 2, \"option\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"label\", 10);\n      i0.ɵɵtext(13, \"Matiere\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AddMtaComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 9)(16, \"label\", 12);\n      i0.ɵɵtext(17, \"Note\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AddMtaComponent_Template_input_ngModelChange_18_listener($event) {\n        return ctx.note = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function AddMtaComponent_Template_button_click_19_listener() {\n        return ctx.ajMata();\n      });\n      i0.ɵɵtext(20, \" Ajouter Matiere product \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.classeroom);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Classes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.note);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtbXRhLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYWRkLW10YS9hZGQtbXRhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9LQUFvSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAQwBA,kCAA0D;IAAAA,YAAa;IAAAA,iBAAS;;;;IAA3CA,8CAAoB;IAACA,eAAa;IAAbA,kCAAa;;;ACE/F,OAAM,MAAOC,eAAe;EAK1BC,YAAoBC,GAAiB,EAASC,GAAkB,EAASC,MAAa;IAAlE,QAAG,GAAHF,GAAG;IAAuB,QAAG,GAAHC,GAAG;IAAwB,WAAM,GAANC,MAAM;IAJ/E,SAAI,GAAQ,EAAE;IACd,SAAI,GAAQ,EAAE;IACd,eAAU,GAAQ,EAAE;IACpB,YAAO,GAAO,EAAE;EACwE;EACxFC,QAAQ;IACN,IAAI,CAACH,GAAG,CAACI,SAAS,EAAE,CACnBC,SAAS,CAACC,MAAM,IAAG;MAClB,IAAI,CAACC,OAAO,GAAGD,MAAM;MACrBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,OAAO,CAAC;IAE3B,CAAC,CAAC;EACJ;EAEAG,MAAM;IAGJ,IAAI,CAACT,GAAG,CAACU,SAAS,CAAC,IAAI,CAACC,IAAI,EAAC,IAAI,CAACC,IAAI,CAAC,CAACR,SAAS,CAC9CS,QAAQ,IAAI;MACX,MAAMC,SAAS,GAAGD,QAAQ,CAACE,IAAI,CAACD,SAAS,EAAC;MAC1CP,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEM,SAAS,CAAC;MACrCP,OAAO,CAACC,GAAG,CAAC,eAAe,EAAC,IAAI,CAACQ,UAAU,CAAC;MAE5C;MAEA,IAAI,CAACjB,GAAG,CAACkB,4BAA4B,CAAC,IAAI,CAACD,UAAU,EAAEF,SAAS,CAAC,CAACV,SAAS,CACxEc,gBAAgB,IAAI;QACnBX,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEU,gBAAgB,CAAC;MAClE,CAAC,EACAC,KAAK,IAAI;QACRZ,OAAO,CAACY,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAC9B;MACF,CAAC,CACF;IACH,CAAC,EACAA,KAAK,IAAI;MACRZ,OAAO,CAACY,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B;IACF,CAAC,CACF;;IACC,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;;SA1CSvB,eAAe;;mBAAfA,MAAe;AAAA;;QAAfA,MAAe;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV5B7B,kCAA2C;MAKoEA,sBAAM;MAAAA,iBAAQ;MACzGA,iCAAwU;MAAhUA;QAAA;MAAA,EAAwB;MAC5BA,iCAAoB;MAAAA,+BAAe;MAAAA,iBAAS;MAC5CA,wEAAgF;MAEpFA,iBAAS;MAEbA,+BAAoB;MACwEA,wBAAO;MAAAA,iBAAQ;MACvGA,kCAA8X;MAA3WA;QAAA;MAAA,EAAkB;MAArCA,iBAA8X;MAElYA,+BAAoB;MACwEA,qBAAI;MAAAA,iBAAQ;MACpGA,kCAAyX;MAApWA;QAAA;MAAA,EAAkB;MAAvCA,iBAAyX;MAKjYA,mCAA4P;MAAtOA;QAAA,OAAS8B,YAAQ;MAAA,EAAC;MACpC9B,0CACJ;MAAAA,iBAAS;;;MAnBOA,eAAwB;MAAxBA,wCAAwB;MAEHA,eAAU;MAAVA,qCAAU;MAMpBA,eAAkB;MAAlBA,kCAAkB;MAIhBA,eAAkB;MAAlBA,kCAAkB","names":["i0","AddMtaComponent","constructor","Cla","mta","router","ngOnInit","getClasse","subscribe","classe","Classes","console","log","ajMata","ajMatiere","name","note","response","matiereId","body","classeroom","updateClassroomAndAddMatiere","updatedClassroom","error","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Mehdi\\Desktop\\Angular\\my-dashboard\\src\\app\\pages\\add-mta\\add-mta.component.html","C:\\Users\\Mehdi\\Desktop\\Angular\\my-dashboard\\src\\app\\pages\\add-mta\\add-mta.component.ts"],"sourcesContent":["<section class=\"bg-white dark:bg-gray-900\">\n    <div class=\"py-4 px-4 mx-auto max-w-2xl lg:py-16\">\n        <form action=\"#\">\n            <div class=\"grid gap-4 sm:grid-cols-2 sm:gap-6\">\n                <div class=\"sm:col-span-2\">\n                    <label for=\"category\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Clasee</label>\n                    <select [(ngModel)]=\"classeroom\" id=\"category\"  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\">\n                        <option selected=\"\">Choisire Classe</option>\n                        <option *ngFor=\"let item of Classes\" value=\"{{item._id}}\">{{item.name}}</option>\n                        \n                    </select>\n                    </div>\n                <div class=\"w-full\">\n                    <label for=\"brand\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Matiere</label>\n                    <input type=\"text\" [(ngModel)]=\"name\" name=\"brand\" id=\"brand\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"Product brand\" required=\"\">\n                </div>\n                <div class=\"w-full\">\n                    <label for=\"price\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Note</label>\n                    <input type=\"number\" [(ngModel)]=\"note\" name=\"price\" id=\"price\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\" placeholder=\"max 40\" required=\"\">\n                </div>\n                \n                \n            </div>\n            <button type=\"button\" (click)=\"ajMata()\" class=\"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-purple-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800\">\n                Ajouter Matiere product\n            </button>\n        </form>\n    </div>\n  </section>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ClasseService } from 'src/app/classe.service';\nimport { LoadingService } from 'src/app/loading.service';\n\n@Component({\n  selector: 'app-add-mta',\n  templateUrl: './add-mta.component.html',\n  styleUrls: ['./add-mta.component.css']\n})\nexport class AddMtaComponent implements OnInit {\n  name:String='';\n  note:String='';\n  classeroom:String=\"\"\n  Classes:any[]=[]\n  constructor(private Cla:ClasseService,private mta:LoadingService,private router:Router){}\n  ngOnInit(): void {\n    this.Cla.getClasse()\n    .subscribe(classe =>{\n      this.Classes = classe\n      console.log(this.Classes);\n      \n    });\n  }\n\n  ajMata(){\n    \n  \n    this.mta.ajMatiere(this.name,this.note).subscribe(\n      (response) => {\n        const matiereId = response.body.matiereId // Access the generated student ID from the response\n        console.log('matiere ID:', matiereId);\n        console.log('classeroom ID',this.classeroom);\n        \n        // Now you have the generated student ID\n        \n        this.Cla.updateClassroomAndAddMatiere(this.classeroom, matiereId).subscribe(\n          (updatedClassroom) => {\n            console.log('Classroom updated successfully:', updatedClassroom);\n          },\n          (error) => {\n            console.error('Error:', error);\n            // Handle error\n          }\n        );\n      },\n      (error) => {\n        console.error('Error:', error);\n        // Handle error\n      }\n    );\n      this.router.navigate(['/matiere']);\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}